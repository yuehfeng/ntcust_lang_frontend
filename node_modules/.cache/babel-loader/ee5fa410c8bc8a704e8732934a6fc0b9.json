{"remainingRequest":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\Manage-Honor.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\Manage-Honor.vue","mtime":1653958129743},{"path":"C:\\www-server\\ntcust_lang_frontend\\babel.config.js","mtime":1647072923606},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1645007186797},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1645007187285}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBNYW5hZ2VIb25vckNyZWF0ZSBmcm9tICcuLi9jb21wb25lbnRzL01hbmFnZS1Ib25vci1DcmVhdGUudnVlJzsKaW1wb3J0IHsgSG9ub3JTZXJ2ZXIgfSBmcm9tICcuLi8uLi9wcm92aWRlcnMvaHR0cC1zZXJ2ZXInOwp2YXIgQ2xhc3NpY0VkaXRvciA9IHVuZGVmaW5lZDsKT2JqZWN0LmtleXMobnVsbCB8fCB7fSk7CgppZiAocHJvY2Vzcy5icm93c2VyKSB7CiAgQ2xhc3NpY0VkaXRvciA9IHJlcXVpcmUoJ0Bja2VkaXRvci9ja2VkaXRvcjUtYnVpbGQtY2xhc3NpYycpOwp9CgpDbGFzc2ljRWRpdG9yLmNyZWF0ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZWRpdG9yJyksIHsKICBsYW5ndWFnZTogJ3poLXR3Jwp9KS50aGVuKGZ1bmN0aW9uIChlZGl0b3IpIHsKICBjb25zb2xlLmxvZyhlZGl0b3IpOwp9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICBjb25zb2xlLmVycm9yKGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBjb21wb25lbnRzOiB7CiAgICBNYW5hZ2VIb25vckNyZWF0ZTogTWFuYWdlSG9ub3JDcmVhdGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBob25vcjogW10sCiAgICAgIC8vIE1vZGFsCiAgICAgIG5hbWVTdGF0ZTogbnVsbCwKICAgICAgc3VibWl0dGVkTmFtZXM6IFtdLAogICAgICBtb2RhbFNob3c6IGZhbHNlLAogICAgICBlZGl0SG9ub3I6IHsKICAgICAgICBpbmRleDogMCwKICAgICAgICBkYXRhOiBbXQogICAgICB9LAogICAgICBvcHRpb25zOiB7CiAgICAgICAgZGVwYXJ0bWVudHM6IFt7CiAgICAgICAgICB2YWx1ZTogNDEsCiAgICAgICAgICB0ZXh0OiAn5oeJ55So6Iux5paH57O7JwogICAgICAgIH0sIHsKICAgICAgICAgIHZhbHVlOiA0MiwKICAgICAgICAgIHRleHQ6ICfmh4nnlKjml6Xmlofns7snCiAgICAgICAgfSwgewogICAgICAgICAgdmFsdWU6IDQzLAogICAgICAgICAgdGV4dDogJ+aHieeUqOS4reaWh+ezuycKICAgICAgICB9XSwKICAgICAgICByYW5raW5nX3N0eWxlczogW3sKICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgdGV4dDogJ+mgkOioreaoo+W8jycKICAgICAgICB9LCB7CiAgICAgICAgICB2YWx1ZTogMSwKICAgICAgICAgIHRleHQ6ICfnrKzkuIDlkI0o6YeR54mMKScKICAgICAgICB9LCB7CiAgICAgICAgICB2YWx1ZTogMiwKICAgICAgICAgIHRleHQ6ICfnrKzkuozlkI0o6YqA54mMKScKICAgICAgICB9LCB7CiAgICAgICAgICB2YWx1ZTogMywKICAgICAgICAgIHRleHQ6ICfnrKzkuInlkI0o6YqF54mMKScKICAgICAgICB9XQogICAgICB9LAogICAgICBlZGl0b3I6IENsYXNzaWNFZGl0b3IsCiAgICAgIGVkaXRvckNvbmZpZzogewogICAgICAgIHRvb2xiYXI6IHt9CiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLm1vbWVudCA9IG1vbWVudDsKICAgIEhvbm9yU2VydmVyLnJlYWQoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICByZXR1cm4gX3RoaXMuaG9ub3IgPSByZXNwb25zZS5kYXRhOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBlZGl0OiBmdW5jdGlvbiBlZGl0KGluZGV4KSB7CiAgICAgIHRoaXMuZWRpdEhvbm9yLmluZGV4ID0gaW5kZXg7CiAgICAgIHRoaXMuZWRpdEhvbm9yLmRhdGEgPSB0aGlzLmhvbm9yW3RoaXMuZWRpdEhvbm9yLmluZGV4XTsKICAgIH0sCiAgICBjaGVja0Zvcm1WYWxpZGl0eTogZnVuY3Rpb24gY2hlY2tGb3JtVmFsaWRpdHkoKSB7CiAgICAgIHZhciB2YWxpZCA9IHRoaXMuJHJlZnMuZm9ybS5jaGVja1ZhbGlkaXR5KCk7CiAgICAgIHRoaXMubmFtZVN0YXRlID0gdmFsaWQ7CiAgICAgIHJldHVybiB2YWxpZDsKICAgIH0sCiAgICBoYW5kbGVPazogZnVuY3Rpb24gaGFuZGxlT2soKSB7CiAgICAgIHRoaXMuaGFuZGxlU3VibWl0KCk7CiAgICB9LAogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8gRXhpdCB3aGVuIHRoZSBmb3JtIGlzbid0IHZhbGlkCiAgICAgIGlmICghdGhpcy5jaGVja0Zvcm1WYWxpZGl0eSgpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIFB1c2ggdGhlIGZpbGVkIHRvIHN1Ym1pdHRlZCBheGlvcwoKCiAgICAgIEhvbm9yU2VydmVyLnVwZGF0ZSh0aGlzLmVkaXRIb25vci5kYXRhLmlkLCB0aGlzLmVkaXRIb25vci5kYXRhKS50aGVuKGZ1bmN0aW9uICgpIHsvLyBjb25zb2xlLmxvZyhyZXNwb25zZSkKICAgICAgfSk7IC8vIEhpZGUgdGhlIG1vZGFsIG1hbnVhbGx5CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRidk1vZGFsLmhpZGUoJ21vZGFsLXByZXZlbnQtY2xvc2luZycpOwogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShpZCkgewogICAgICBIb25vclNlcnZlci5kZWxldGUoaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\Manage-Honor.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <ManageHonorCreate></ManageHonorCreate>\r\n\r\n    <!-- 浮動式修改面板 -->\r\n    <b-modal\r\n        id=\"modal-prevent-closing\"\r\n        ref=\"modal\"\r\n        title=\"修改榮譽榜資料\"\r\n        @ok=\"handleOk\"\r\n    >\r\n        <form ref=\"form\" @submit.stop.prevent=\"handleSubmit\">\r\n            <b-form-group\r\n                label=\"榮譽榜標題\"\r\n                label-for=\"UPDATE_HONOR_TITLE\"\r\n                invalid-feedback=\"Name is required\"\r\n                :state=\"nameState\"\r\n            >\r\n                <b-form-input\r\n                    id=\"UPDATE_HONOR_TITLE\"\r\n                    v-model=\"editHonor.data.title\"\r\n                    :state=\"nameState\"\r\n                    required\r\n                ></b-form-input>\r\n            </b-form-group>\r\n            <b-form-group\r\n                label=\"榮譽榜說明\"\r\n                label-for=\"UPDATE_HONOR_DESCRIPTION\"\r\n                invalid-feedback=\"Name is required\"\r\n                :state=\"nameState\"\r\n            >\r\n                <ckeditor v-model=\"editHonor.data.content\" :config=\"editorConfig\" :editor=\"editor\"></ckeditor>\r\n            </b-form-group>\r\n            \r\n            <b-form-group\r\n                label=\"排名\"\r\n                label-for=\"UPDATE_HONOR_RANKING\"\r\n                invalid-feedback=\"Name is required\"\r\n                :state=\"nameState\"\r\n            >\r\n                <b-form-input \r\n                    id=\"UPDATE_HONOR_RANKING\"\r\n                    v-model=\"editHonor.data.ranking\" \r\n                    :state=\"nameState\"\r\n                    required\r\n                    placeholder=\"請填入得獎名次\">\r\n                </b-form-input>\r\n                <b-form-select \r\n                    v-model=\"editHonor.data.ranking_style\" \r\n                    :options=\"options.ranking_styles\">\r\n                </b-form-select>\r\n            </b-form-group>\r\n            <b-form-group\r\n                label=\"科系\"\r\n                label-for=\"UPDATE_HONOR_DEPARTMENT\"\r\n                invalid-feedback=\"Name is required\"\r\n                :state=\"nameState\"\r\n            >\r\n                <b-form-select \r\n                    v-model=\"editHonor.data.department\" \r\n                    :options=\"options.departments\">\r\n                </b-form-select>\r\n            </b-form-group>\r\n        </form>\r\n    </b-modal>\r\n\r\n    <div v-for=\"(item, index) in honor\" :key=\"index\">\r\n        <b-card border-variant=\"info mt-3\" align=\"left\">\r\n            <b-card-title>\r\n                <span v-if=\"item.ranking_style == 1\" class=\"badge rounded-pill bg-warning text-dark\">{{ item.ranking }}</span>\r\n                <span v-if=\"item.ranking_style == 2\" class=\"badge rounded-pill bg-light text-dark\">{{ item.ranking }}</span>\r\n                <span v-if=\"item.ranking_style == 3\" class=\"badge rounded-pill bg-secondary\">{{ item.ranking }}</span>\r\n                <span v-if=\"item.ranking_style == 0\" class=\"badge rounded-pill bg-primary\">{{ item.ranking }}</span>\r\n                <!--  -->\r\n                <span class=\"mx-3\">{{ item.title }}</span>\r\n                <!--  -->\r\n                <b-badge v-if=\"item.department == 41\" pill variant=\"dark\">應用英文系</b-badge>\r\n                <b-badge v-if=\"item.department == 42\" pill variant=\"dark\">應用日文系</b-badge>\r\n                <b-badge v-if=\"item.department == 43\" pill variant=\"dark\">應用中文系</b-badge>\r\n            </b-card-title>\r\n            <b-card-sub-title class=\"mb-2\">\r\n                建立時間 {{ moment(item.created_at).format(\"YYYY-MM-DD HH:MM:SS\") }}\r\n                |\r\n                更新時間 {{ moment(item.updated_at).format(\"YYYY-MM-DD HH:MM:SS\") }}\r\n            </b-card-sub-title>\r\n            <b-card-text>\r\n                <b-alert show variant=\"light\" v-html=\"item.content\"></b-alert>\r\n                <b-row>\r\n                    <b-col md=\"12 text-end\">\r\n                        <b-button \r\n                        variant=\"success m-1 text-end\"\r\n                        @click=\"edit(index)\" v-b-modal.modal-prevent-closing>\r\n                            修改\r\n                        </b-button>\r\n                        <b-button @click=\"remove(item.id)\" variant=\"danger m-1\">\r\n                            刪除\r\n                        </b-button>\r\n                    </b-col>\r\n                </b-row>\r\n            </b-card-text>\r\n        </b-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment';\r\nimport ManageHonorCreate from '../components/Manage-Honor-Create.vue';\r\nimport { HonorServer } from '../../providers/http-server';\r\nlet ClassicEditor = undefined\r\nObject.keys(null || {});\r\nif (process.browser) {\r\n    ClassicEditor = require('@ckeditor/ckeditor5-build-classic')\r\n}\r\n\r\nClassicEditor\r\n    .create( document.querySelector( '#editor' ), {\r\n        language: 'zh-tw'\r\n    } )\r\n    .then( editor => {\r\n        console.log( editor );\r\n    } )\r\n    .catch( error => {\r\n        console.error( error );\r\n    } );\r\n    \r\nexport default {\r\n    name: 'App',\r\n    components: {\r\n        ManageHonorCreate\r\n    },\r\n    data(){\r\n        return {\r\n            honor: [],\r\n            // Modal\r\n            nameState: null,\r\n            submittedNames: [],\r\n            modalShow: false,\r\n            \r\n            editHonor: {\r\n                index: 0,\r\n                data: []\r\n            },\r\n            options: {\r\n                departments: [\r\n                    { value: 41, text: '應用英文系' },\r\n                    { value: 42, text: '應用日文系' },\r\n                    { value: 43, text: '應用中文系' },\r\n                ],\r\n                ranking_styles: [\r\n                    { value: 0, text: '預設樣式' },\r\n                    { value: 1, text: '第一名(金牌)' },\r\n                    { value: 2, text: '第二名(銀牌)' },\r\n                    { value: 3, text: '第三名(銅牌)' },\r\n                ]\r\n            },\r\n            editor: ClassicEditor,\r\n            editorConfig: {\r\n                toolbar: {\r\n                },\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n        this.moment = moment;\r\n        HonorServer.read().then(\r\n            (response) => this.honor = response.data\r\n        );\r\n    },\r\n    methods: \r\n    {\r\n        edit(index)\r\n        {\r\n            this.editHonor.index = index;\r\n            this.editHonor.data = this.honor[this.editHonor.index];\r\n        },\r\n        checkFormValidity() {\r\n            const valid = this.$refs.form.checkValidity()\r\n            this.nameState = valid\r\n            return valid\r\n        },\r\n        handleOk() {\r\n            this.handleSubmit()\r\n        },\r\n        handleSubmit() {\r\n            // Exit when the form isn't valid\r\n            if (!this.checkFormValidity()) {\r\n                return\r\n            }\r\n            // Push the filed to submitted axios\r\n            HonorServer.update(this.editHonor.data.id, this.editHonor.data).then(() => {\r\n                // console.log(response)\r\n            });\r\n            \r\n            // Hide the modal manually\r\n            this.$nextTick(() => {\r\n                this.$bvModal.hide('modal-prevent-closing')\r\n            })\r\n        },\r\n        remove(id) {\r\n            HonorServer.delete(id).then((response) => {\r\n                console.log(response)\r\n            });\r\n        }\r\n    }\r\n}\r\n</script>\r\n"],"sourceRoot":""}]}