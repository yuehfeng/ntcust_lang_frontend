{"remainingRequest":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\Manage-Banner-Create.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\Manage-Banner-Create.vue","mtime":1646224713324},{"path":"C:\\www-server\\ntcust_lang_frontend\\babel.config.js","mtime":1642665566574},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1645007183892},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1645007186797},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1645007187285}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IHVzZUltYWdlVXBsb2FkIH0gZnJvbSAnLi91c2VJbWFnZVVwbG9hZCc7CmltcG9ydCB7IHJlZiB9IGZyb20gInZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSG9tZSIsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIG1lc3NhZ2UgPSByZWYoIiIpOwogICAgdmFyIGltYWdlcyA9IHJlZihbXSk7CiAgICB2YXIgZGVzY3JpcHRpb24gPSByZWYoIiIpOwogICAgdmFyIHRpdGxlID0gcmVmKCIiKTsKCiAgICB2YXIgX3VzZUltYWdlVXBsb2FkID0gdXNlSW1hZ2VVcGxvYWQoKSwKICAgICAgICBpbWFnZUZpbGUgPSBfdXNlSW1hZ2VVcGxvYWQuaW1hZ2VGaWxlLAogICAgICAgIGltYWdlVXJsID0gX3VzZUltYWdlVXBsb2FkLmltYWdlVXJsLAogICAgICAgIGhhbmRsZUltYWdlU2VsZWN0ZWQgPSBfdXNlSW1hZ2VVcGxvYWQuaGFuZGxlSW1hZ2VTZWxlY3RlZDsKCiAgICBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyBjb25zb2xlLmxvZyh0aXRsZSk7CiAgICAgIHZhciBkYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGRhdGEuYXBwZW5kKCJmaWxlX2lkIiwgaW1hZ2VGaWxlLnZhbHVlKTsKICAgICAgZGF0YS5hcHBlbmQoInRpdGxlIiwgdGl0bGUudmFsdWUpOwogICAgICBkYXRhLmFwcGVuZCgiZGVzY3JpcHRpb24iLCBkZXNjcmlwdGlvbi52YWx1ZSk7CiAgICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0L250Y3VzdF9sYW5nX2JhY2tlbmQvcHVibGljL2FwaS9iYW5uZXIvY3JlYXRlJywKICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAiQWNjZXB0IjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAnQmVhcmVyICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnQVBJX1RPS0VOJykKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIF90aGlzLm1lc3NhZ2UgPSAi5paw5aKe5oiQ5YqfIjsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coUHJvbWlzZS5yZWplY3QoZXJyb3IpKTsKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgaGFuZGxlSW1hZ2VTZWxlY3RlZDogaGFuZGxlSW1hZ2VTZWxlY3RlZCwKICAgICAgaW1hZ2VVcmw6IGltYWdlVXJsLAogICAgICBoYW5kbGVTdWJtaXQ6IGhhbmRsZVN1Ym1pdCwKICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgaW1hZ2VzOiBpbWFnZXMsCiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiwKICAgICAgdGl0bGU6IHRpdGxlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlRmlsZWQ6IGZ1bmN0aW9uIHVwZGF0ZUZpbGVkKCkgey8vIGNvbnNvbGUubG9nKHRoaXMudGl0bGUsIHRoaXMuZGVzY3JpcHRpb24pOwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyZWYuZm9ybSkKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\Manage-Banner-Create.vue"],"names":[],"mappings":";AAmEA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,cAAT,QAA+B,kBAA/B;AACA,SAAS,GAAT,QAAoB,KAApB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,MADK;AAEX,EAAA,KAFW,mBAEH;AACJ,QAAI,OAAM,GAAI,GAAG,CAAC,EAAD,CAAjB;AACA,QAAI,MAAK,GAAI,GAAG,CAAC,EAAD,CAAhB;AACA,QAAI,WAAU,GAAI,GAAG,CAAC,EAAD,CAArB;AACA,QAAI,KAAI,GAAI,GAAG,CAAC,EAAD,CAAf;;AAEA,0BAAmD,cAAc,EAAjE;AAAA,QAAM,SAAN,mBAAM,SAAN;AAAA,QAAiB,QAAjB,mBAAiB,QAAjB;AAAA,QAA2B,mBAA3B,mBAA2B,mBAA3B;;AAEA,aAAS,YAAT,GAAwB;AAAA;;AACpB;AACA,UAAI,IAAG,GAAI,IAAI,QAAJ,EAAX;AACA,MAAA,IAAI,CAAC,MAAL,CAAY,SAAZ,EAAuB,SAAS,CAAC,KAAjC;AACA,MAAA,IAAI,CAAC,MAAL,CAAY,OAAZ,EAAqB,KAAK,CAAC,KAA3B;AACA,MAAA,IAAI,CAAC,MAAL,CAAY,aAAZ,EAA2B,WAAW,CAAC,KAAvC;AACA,MAAA,KAAK,CAAC;AACF,QAAA,MAAM,EAAE,MADN;AAEF,QAAA,GAAG,EAAE,+DAFH;AAGF,QAAA,IAAI,EAAE,IAHJ;AAIF,QAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,oBAAU,kBAFL;AAGL,2BAAiB,YAAY,YAAY,CAAC,OAAb,CAAqB,WAArB;AAHxB;AAJP,OAAD,CAAL,CAUC,IAVD,CAUO,YAAM;AACT;AACA,QAAA,KAAI,CAAC,OAAL,GAAe,MAAf;AACH,OAbD,EAcC,KAdD,CAcQ,UAAC,KAAD,EAAW;AACf,QAAA,OAAO,CAAC,GAAR,CAAY,OAAO,CAAC,MAAR,CAAe,KAAf,CAAZ;AACH,OAhBD;AAiBJ;;AACA,WAAO;AACH,MAAA,mBAAmB,EAAnB,mBADG;AAEH,MAAA,QAAQ,EAAR,QAFG;AAGH,MAAA,YAAY,EAAZ,YAHG;AAIH,MAAA,OAAO,EAAP,OAJG;AAKH,MAAA,MAAM,EAAN,MALG;AAMH,MAAA,WAAW,EAAX,WANG;AAOH,MAAA,KAAI,EAAJ;AAPG,KAAP;AASH,GA3CU;AA4CX,EAAA,OAAO,EAAE;AACL,IAAA,WADK,yBAEL,CACI;AACA;AACJ;AALK;AA5CE,CAAf","sourcesContent":["<template>\r\n    <b-button v-b-toggle.collapse-2 variant=\"success m-2\">建立看版</b-button>\r\n    <form id=\"CREATE_BANNER_FORM\" ref=\"form\" class=\"\" @submit.prevent=\"handleSubmit\">\r\n        <div v-if=\"message\"\r\n        class=\"bg-green-600 text-white rounded p-4 mb-8\">\r\n        {{ message }}\r\n        </div>\r\n    <b-collapse id=\"collapse-2\" class=\"m-2\">\r\n        <b-card>\r\n            <b-row class=\"my-2\">\r\n                <b-col md=\"2\">\r\n                    <label for=\"\">看版名稱</label>\r\n                </b-col>\r\n                <b-col md=\"10\">\r\n                    <b-form-input v-model=\"title\" placeholder=\"請填入看版名稱\"></b-form-input>\r\n                </b-col>\r\n            </b-row>\r\n            <b-row class=\"my-2\">\r\n                <b-col md=\"2\">\r\n                    <label for=\"\">看版說明</label>\r\n                </b-col>\r\n                <b-col md=\"10\">\r\n                    <b-form-textarea\r\n                        v-model=\"description\"\r\n                        placeholder=\"請填入看版說明\"\r\n                        rows=\"5\"\r\n                        max-rows=\"5\">\r\n                    </b-form-textarea>\r\n                </b-col>\r\n            </b-row>\r\n            <b-row class=\"my-2\">\r\n                <b-col md=\"2\">\r\n                    <label for=\"\">上傳封面</label>\r\n                </b-col>\r\n                <b-col md=\"10\">\r\n                    <!--  -->\r\n                    <div class=\"min-h-screen flex items-center justify-center\">\r\n                        <div v-if=\"message\"\r\n                            class=\"bg-green-600 text-white rounded p-4 mb-8\">{{ message }}</div>\r\n                        <img v-show=\"imageUrl\"\r\n                            :src=\"imageUrl\"\r\n                            class=\"w-48 h-48 object-cover\"\r\n                            width=\"200\">\r\n                        <div>\r\n                            <input type=\"file\"\r\n                                accept=\"image/*\"\r\n                                @change=\"handleImageSelected\">\r\n                        </div>\r\n                        <div class=\"flex flex-wrap mt-8\">\r\n                            <img v-for=\"(image, key) in images\"\r\n                                :key=\"key\"\r\n                                :src=\"image.image\"\r\n                                class=\"w-48 h-46 object-cover mr-4 mb-4 shadow rounded\">\r\n                        </div>\r\n                    </div>\r\n                    <!--  -->\r\n                </b-col>\r\n                <b-col md=\"12 text-center\">\r\n                    <b-button type=\"submit\" variant=\"success m-2\">創建</b-button>\r\n                </b-col>\r\n            </b-row>\r\n        </b-card>\r\n    </b-collapse>\r\n    </form>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { useImageUpload } from './useImageUpload';\r\nimport { ref } from \"vue\";\r\n\r\nexport default {\r\n    name: \"Home\",\r\n    setup() {\r\n        let message = ref(\"\");\r\n        let images = ref([]);\r\n        let description = ref(\"\");\r\n        let title = ref(\"\");\r\n\r\n        let { imageFile, imageUrl, handleImageSelected } = useImageUpload();\r\n\r\n        function handleSubmit() {\r\n            // console.log(title);\r\n            let data = new FormData();\r\n            data.append(\"file_id\", imageFile.value);\r\n            data.append(\"title\", title.value);\r\n            data.append(\"description\", description.value);\r\n            axios({\r\n                method: 'post',\r\n                url: 'http://localhost/ntcust_lang_backend/public/api/banner/create',\r\n                data: data,\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Accept\": \"application/json\",\r\n                    \"Authorization\": 'Bearer ' + localStorage.getItem('API_TOKEN'),\r\n                }\r\n            })\r\n            .then( () => {\r\n                // console.log(response.data);\r\n                this.message = \"新增成功\";\r\n            })\r\n            .catch( (error) => {\r\n                console.log(Promise.reject(error));\r\n            });\r\n        }\r\n        return {\r\n            handleImageSelected,\r\n            imageUrl,\r\n            handleSubmit,\r\n            message,\r\n            images,\r\n            description,\r\n            title\r\n        };\r\n    },\r\n    methods: {\r\n        updateFiled()\r\n        {\r\n            // console.log(this.title, this.description);\r\n            // console.log(this.$ref.form)\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n\r\n"],"sourceRoot":""}]}