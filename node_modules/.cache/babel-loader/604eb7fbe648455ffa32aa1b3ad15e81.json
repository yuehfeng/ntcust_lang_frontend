{"remainingRequest":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\www-server\\ntcust_lang_frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\useImageUpload.js","dependencies":[{"path":"C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\useImageUpload.js","mtime":1645947318510},{"path":"C:\\www-server\\ntcust_lang_frontend\\babel.config.js","mtime":1647072923606},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1645007183892},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1645007186797},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\eslint-loader\\index.js","mtime":1645007184600}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmLCB3YXRjaCB9IGZyb20gInZ1ZSI7CmV4cG9ydCBmdW5jdGlvbiB1c2VJbWFnZVVwbG9hZCgpIHsKICB2YXIgaW1hZ2VGaWxlID0gcmVmKCIiKTsKICB2YXIgaW1hZ2VVcmwgPSByZWYoIiIpOwoKICBmdW5jdGlvbiBoYW5kbGVJbWFnZVNlbGVjdGVkKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQudGFyZ2V0LmZpbGVzLmxlbmd0aCA9PT0gMCkgewogICAgICBpbWFnZUZpbGUudmFsdWUgPSAiIjsKICAgICAgaW1hZ2VVcmwudmFsdWUgPSAiIjsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnNvbGUubG9nKGV2ZW50KTsKICAgIGltYWdlRmlsZS52YWx1ZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICB9CgogIHdhdGNoKGltYWdlRmlsZSwgZnVuY3Rpb24gKGltYWdlRmlsZSkgewogICAgaWYgKCEoaW1hZ2VGaWxlIGluc3RhbmNlb2YgRmlsZSkpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChpbWFnZUZpbGUpOwogICAgZmlsZVJlYWRlci5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgZnVuY3Rpb24gKCkgewogICAgICBpbWFnZVVybC52YWx1ZSA9IGZpbGVSZWFkZXIucmVzdWx0OwogICAgfSk7CiAgfSk7CiAgcmV0dXJuIHsKICAgIGltYWdlRmlsZTogaW1hZ2VGaWxlLAogICAgaW1hZ2VVcmw6IGltYWdlVXJsLAogICAgaGFuZGxlSW1hZ2VTZWxlY3RlZDogaGFuZGxlSW1hZ2VTZWxlY3RlZAogIH07Cn0="},{"version":3,"sources":["C:/www-server/ntcust_lang_frontend/src/views/components/useImageUpload.js"],"names":["ref","watch","useImageUpload","imageFile","imageUrl","handleImageSelected","event","target","files","length","value","console","log","File","fileReader","FileReader","readAsDataURL","addEventListener","result"],"mappings":"AAAA,SAASA,GAAT,EAAcC,KAAd,QAA2B,KAA3B;AAEA,OAAO,SAASC,cAAT,GAA0B;AAC7B,MAAIC,SAAS,GAAGH,GAAG,CAAC,EAAD,CAAnB;AACA,MAAII,QAAQ,GAAGJ,GAAG,CAAC,EAAD,CAAlB;;AAEA,WAASK,mBAAT,CAA6BC,KAA7B,EAAoC;AAChC,QAAIA,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmBC,MAAnB,KAA8B,CAAlC,EAAqC;AACjCN,MAAAA,SAAS,CAACO,KAAV,GAAkB,EAAlB;AACAN,MAAAA,QAAQ,CAACM,KAAT,GAAiB,EAAjB;AACA;AACH;;AACDC,IAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACAH,IAAAA,SAAS,CAACO,KAAV,GAAkBJ,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAlB;AACH;;AAEDP,EAAAA,KAAK,CAACE,SAAD,EAAY,UAACA,SAAD,EAAe;AAC5B,QAAI,EAAEA,SAAS,YAAYU,IAAvB,CAAJ,EAAkC;AAC9B;AACH;;AAED,QAAIC,UAAU,GAAG,IAAIC,UAAJ,EAAjB;AAEAD,IAAAA,UAAU,CAACE,aAAX,CAAyBb,SAAzB;AAEAW,IAAAA,UAAU,CAACG,gBAAX,CAA4B,MAA5B,EAAoC,YAAM;AACtCb,MAAAA,QAAQ,CAACM,KAAT,GAAiBI,UAAU,CAACI,MAA5B;AACH,KAFD;AAGH,GAZI,CAAL;AAcA,SAAO;AACHf,IAAAA,SAAS,EAATA,SADG;AAEHC,IAAAA,QAAQ,EAARA,QAFG;AAGHC,IAAAA,mBAAmB,EAAnBA;AAHG,GAAP;AAKH","sourcesContent":["import { ref, watch } from \"vue\";\r\n\r\nexport function useImageUpload() {\r\n    let imageFile = ref(\"\");\r\n    let imageUrl = ref(\"\");\r\n\r\n    function handleImageSelected(event) {\r\n        if (event.target.files.length === 0) {\r\n            imageFile.value = \"\";\r\n            imageUrl.value = \"\";\r\n            return;\r\n        }\r\n        console.log(event);\r\n        imageFile.value = event.target.files[0];\r\n    }\r\n\r\n    watch(imageFile, (imageFile) => {\r\n        if (!(imageFile instanceof File)) {\r\n            return;\r\n        }\r\n\r\n        let fileReader = new FileReader();\r\n\r\n        fileReader.readAsDataURL(imageFile);\r\n\r\n        fileReader.addEventListener(\"load\", () => {\r\n            imageUrl.value = fileReader.result;\r\n        });\r\n    });\r\n\r\n    return {\r\n        imageFile,\r\n        imageUrl,\r\n        handleImageSelected,\r\n    };\r\n}"]}]}