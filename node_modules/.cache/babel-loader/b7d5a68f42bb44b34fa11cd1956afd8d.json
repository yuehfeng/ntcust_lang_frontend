{"remainingRequest":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\News.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\News.vue","mtime":1645619456868},{"path":"C:\\www-server\\ntcust_lang_frontend\\babel.config.js","mtime":1642665566574},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1645007186797},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1645007187285}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ05ld3MnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuZXdzOiBbXSwKICAgICAgcGFnZTogewogICAgICAgIGN1cnJlbnQ6IDEsCiAgICAgICAgYWxsOiAxCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLm1vbWVudCA9IG1vbWVudDsKICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdC9udGN1c3RfbGFuZ19iYWNrZW5kL3B1YmxpYy9hcGkvbmV3cycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLm5ld3MgPSByZXNwb25zZS5kYXRhLmRhdGEucmVzdWx0OwogICAgICBfdGhpcy5wYWdlLmN1cnJlbnQgPSByZXNwb25zZS5kYXRhLmRhdGEucGFnZXMuY3VycmVudDsKICAgICAgX3RoaXMucGFnZS5hbGwgPSByZXNwb25zZS5kYXRhLmRhdGEucGFnZXMuYWxsOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgcm93czogZnVuY3Rpb24gcm93cygpIHsKICAgICAgcmV0dXJuIHRoaXMucGFnZS5hbGw7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBwcmV2UGFnZTogZnVuY3Rpb24gcHJldlBhZ2UoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5wYWdlLmN1cnJlbnQgLT0gMTsKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0L250Y3VzdF9sYW5nX2JhY2tlbmQvcHVibGljL2FwaS9uZXdzP3BhZ2U9JyArIHRoaXMucGFnZS5jdXJyZW50KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5uZXdzID0gcmVzcG9uc2UuZGF0YS5kYXRhLnJlc3VsdDsKICAgICAgICBfdGhpczIucGFnZS5jdXJyZW50ID0gcmVzcG9uc2UuZGF0YS5kYXRhLnBhZ2VzLmN1cnJlbnQ7CiAgICAgICAgX3RoaXMyLnBhZ2UuYWxsID0gcmVzcG9uc2UuZGF0YS5kYXRhLnBhZ2VzLmFsbDsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIucGFnZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBuZXh0UGFnZTogZnVuY3Rpb24gbmV4dFBhZ2UoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5wYWdlLmN1cnJlbnQgKz0gMTsKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0L250Y3VzdF9sYW5nX2JhY2tlbmQvcHVibGljL2FwaS9uZXdzP3BhZ2U9JyArIHRoaXMucGFnZS5jdXJyZW50KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy5uZXdzID0gcmVzcG9uc2UuZGF0YS5kYXRhLnJlc3VsdDsKICAgICAgICBfdGhpczMucGFnZS5jdXJyZW50ID0gcmVzcG9uc2UuZGF0YS5kYXRhLnBhZ2VzLmN1cnJlbnQ7CiAgICAgICAgX3RoaXMzLnBhZ2UuYWxsID0gcmVzcG9uc2UuZGF0YS5kYXRhLnBhZ2VzLmFsbDsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpczMucGFnZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBsb2NhdGlvblBhZ2U6IGZ1bmN0aW9uIGxvY2F0aW9uUGFnZShudW0pIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3QvbnRjdXN0X2xhbmdfYmFja2VuZC9wdWJsaWMvYXBpL25ld3M/cGFnZT0nICsgbnVtKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzNC5uZXdzID0gcmVzcG9uc2UuZGF0YS5kYXRhLnJlc3VsdDsKICAgICAgICBfdGhpczQucGFnZS5jdXJyZW50ID0gcmVzcG9uc2UuZGF0YS5kYXRhLnBhZ2VzLmN1cnJlbnQ7CiAgICAgICAgX3RoaXM0LnBhZ2UuYWxsID0gcmVzcG9uc2UuZGF0YS5kYXRhLnBhZ2VzLmFsbDsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpczQucGFnZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgICAgdGhpcy5jdXJyZW50ID0gbnVtOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\News.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <h2>\n            <router-link to=\"/\">最新消息</router-link>\n        </h2>\n        <table class=\"table table-hover\">\n            <thead>\n                <tr>\n                    <th scope=\"col\" colspan=\"2\">標題</th>\n                    <th scope=\"col\" class=\"text-end\">發布日期</th>\n                    <th scope=\"col\" class=\"text-end\">閱覽次數</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"(item, index) in news\" :key=\"index\">\n                    <th scope=\"row\">\n                        <span v-if=\"item.notification.id == 1\" class=\"badge bg-primary\">{{ item.notification.type }}</span>\n                        <span v-if=\"item.notification.id == 2\" class=\"badge bg-secondary\">{{ item.notification.type }}</span>\n                        <span v-if=\"item.notification.id == 3\" class=\"badge bg-warning text-dark\">{{ item.notification.type }}</span>\n                        <span v-if=\"item.notification.id == 4\" class=\"badge bg-info text-dark\">{{ item.notification.type }}</span>\n                        <span v-if=\"item.notification.id == 5\" class=\"badge bg-danger\">{{ item.notification.type }}</span>\n                    </th>\n                    <td>\n                        <router-link :to=\"'/news/'+item.id\">\n                            <span></span>\n                            {{ item.title }}\n                        </router-link>\n                    </td>\n                    <td class=\"text-end\">{{ moment(item.created_at).format(\"YYYY-MM-DD HH:MM\") }}</td>\n                    <td class=\"text-end\">{{ item.views }}</td>\n                </tr>\n            </tbody>\n        </table>\n        <nav aria-label=\"Page navigation example\">\n            <ul class=\"pagination justify-content-end\">\n                <li class=\"page-item disabled\" v-if=\"page.current == 1\">\n                    <a @click=\"prevPage\" class=\"page-link\">Previous</a>\n                </li>\n                <li class=\"page-item\" v-if=\"page.current != 1\">\n                    <a @click=\"prevPage\" class=\"page-link\">Previous</a>\n                </li>\n                <li class=\"page-item\" v-for=\"index in rows\" :key=\"index\">\n                    <a v-if=\"page.current == index\" class=\"page-link bg-primary text-light fw-bolder\" @click=\"locationPage(index)\">{{ index }}</a>\n                    <a v-if=\"page.current != index\" class=\"page-link\" @click=\"locationPage(index)\">{{ index }}</a>\n                </li>\n                <li class=\"page-item disabled\" v-if=\"page.current == page.all\">\n                    <a @click=\"nextPage\" class=\"page-link\">Next</a>\n                </li>\n                <li class=\"page-item\" v-if=\"page.current != page.all\">\n                    <a @click=\"nextPage\" class=\"page-link\">Next</a>\n                </li>\n            </ul>\n        </nav>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport moment from 'moment'\n\nexport default {\n    name: 'News',\n    data(){\n        return {\n            news: [],\n            page: {\n                current: 1,\n                all: 1\n            }\n        }\n    },\n    created(){\n        this.moment = moment;\n        axios\n            .get('http://localhost/ntcust_lang_backend/public/api/news')\n            .then(response => {\n                this.news = response.data.data.result;\n                this.page.current = response.data.data.pages.current;\n                this.page.all = response.data.data.pages.all;\n            })\n            .catch(error => {\n                console.error(error)\n            });\n    },\n    computed:\n    {\n        rows(){\n            return this.page.all\n        }\n    },\n    methods:\n    {\n        prevPage()\n        {\n            this.page.current -= 1;\n            axios\n                .get('http://localhost/ntcust_lang_backend/public/api/news?page=' + this.page.current )\n                .then(response => {\n                    this.news = response.data.data.result;\n                    this.page.current = response.data.data.pages.current;\n                    this.page.all = response.data.data.pages.all;\n                    console.log(this.page);\n                })\n                .catch(error => {\n                    console.error(error)\n                });\n        },\n        nextPage()\n        {\n            this.page.current += 1;\n            axios\n                .get('http://localhost/ntcust_lang_backend/public/api/news?page=' + this.page.current )\n                .then(response => {\n                    this.news = response.data.data.result;\n                    this.page.current = response.data.data.pages.current;\n                    this.page.all = response.data.data.pages.all;\n                    console.log(this.page);\n                })\n                .catch(error => {\n                    console.error(error)\n                });\n        },\n        locationPage(num)\n        {\n            axios\n                .get('http://localhost/ntcust_lang_backend/public/api/news?page=' + num)\n                .then(response => {\n                    this.news = response.data.data.result;\n                    this.page.current = response.data.data.pages.current;\n                    this.page.all = response.data.data.pages.all;\n                    console.log(this.page);\n                })\n                .catch(error => {\n                    console.error(error)\n                });\n            this.current = num;\n        }\n    }\n}\n</script>\n"],"sourceRoot":""}]}