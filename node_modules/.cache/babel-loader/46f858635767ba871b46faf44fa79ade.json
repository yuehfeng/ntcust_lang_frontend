{"remainingRequest":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\Manage-Banner-Create.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\Manage-Banner-Create.vue","mtime":1645864264343},{"path":"C:\\www-server\\ntcust_lang_frontend\\babel.config.js","mtime":1642665566574},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1645007186797},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1645007187285}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IHVzZUltYWdlVXBsb2FkIH0gZnJvbSAiLi91c2VJbWFnZVVwbG9hZCI7CmltcG9ydCB7IHJlZiB9IGZyb20gInZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSG9tZSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAnJywKICAgICAgZGVzY3JpcHRpb246ICcnCiAgICB9OwogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIG1lc3NhZ2UgPSByZWYoIiIpOwogICAgdmFyIGltYWdlcyA9IHJlZihbXSk7CgogICAgdmFyIF91c2VJbWFnZVVwbG9hZCA9IHVzZUltYWdlVXBsb2FkKCksCiAgICAgICAgaW1hZ2VGaWxlID0gX3VzZUltYWdlVXBsb2FkLmltYWdlRmlsZSwKICAgICAgICBpbWFnZVVybCA9IF91c2VJbWFnZVVwbG9hZC5pbWFnZVVybCwKICAgICAgICBoYW5kbGVJbWFnZVNlbGVjdGVkID0gX3VzZUltYWdlVXBsb2FkLmhhbmRsZUltYWdlU2VsZWN0ZWQ7CgogICAgZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkgewogICAgICB2YXIgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybWRhdGEuYXBwZW5kKCJ0aXRsZSIsIHRoaXMudGl0bGUpOwogICAgICBmb3JtZGF0YS5hcHBlbmQoImRlc2NyaXB0aW9uIiwgdGhpcy5kZXNjcmlwdGlvbik7CiAgICAgIGZvcm1kYXRhLmFwcGVuZCgiZmlsZV9pZCIsIGltYWdlRmlsZS52YWx1ZSk7CiAgICAgIGNvbnNvbGUubG9nKGZvcm1kYXRhKTsKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3QvbnRjdXN0X2xhbmdfYmFja2VuZC9wdWJsaWMvYXBpL2Jhbm5lci9jcmVhdGUnLAogICAgICAgIGRhdGE6IGZvcm1kYXRhLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAiQWNjZXB0IjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAnQmVhcmVyICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnQVBJX1RPS0VOJykKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgaW1hZ2VVcmwudmFsdWUgPSAiIjsKICAgICAgICBpbWFnZUZpbGUudmFsdWUgPSAiIjsKICAgICAgICBtZXNzYWdlLnZhbHVlID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICAgIGltYWdlcy52YWx1ZSA9IHJlc3BvbnNlLmRhdGEuaW1hZ2VzOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhQcm9taXNlLnJlamVjdChlcnJvcikpOwogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gewogICAgICBoYW5kbGVJbWFnZVNlbGVjdGVkOiBoYW5kbGVJbWFnZVNlbGVjdGVkLAogICAgICBpbWFnZVVybDogaW1hZ2VVcmwsCiAgICAgIGhhbmRsZVN1Ym1pdDogaGFuZGxlU3VibWl0LAogICAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgICBpbWFnZXM6IGltYWdlcwogICAgfTsKICB9Cn07"},{"version":3,"sources":["C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\Manage-Banner-Create.vue"],"names":[],"mappings":";;;AAgEA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,cAAT,QAA+B,kBAA/B;AACA,SAAS,GAAT,QAAoB,KAApB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,MADK;AAEX,EAAA,IAFW,kBAEJ;AACH,WAAO;AACH,MAAA,KAAK,EAAE,EADJ;AAEH,MAAA,WAAW,EAAE;AAFV,KAAP;AAIH,GAPU;AAQX,EAAA,KARW,mBAQH;AACJ,QAAI,OAAM,GAAI,GAAG,CAAC,EAAD,CAAjB;AACA,QAAI,MAAK,GAAI,GAAG,CAAC,EAAD,CAAhB;;AAEA,0BAAmD,cAAc,EAAjE;AAAA,QAAM,SAAN,mBAAM,SAAN;AAAA,QAAiB,QAAjB,mBAAiB,QAAjB;AAAA,QAA2B,mBAA3B,mBAA2B,mBAA3B;;AAEA,aAAS,YAAT,GAAwB;AACpB,UAAI,QAAO,GAAI,IAAI,QAAJ,EAAf;AACA,MAAA,QAAQ,CAAC,MAAT,CAAgB,OAAhB,EAAyB,KAAK,KAA9B;AACA,MAAA,QAAQ,CAAC,MAAT,CAAgB,aAAhB,EAA+B,KAAK,WAApC;AACA,MAAA,QAAQ,CAAC,MAAT,CAAgB,SAAhB,EAA2B,SAAS,CAAC,KAArC;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,QAAZ;AACA,MAAA,KAAK,CAAC;AACF,QAAA,MAAM,EAAE,MADN;AAEF,QAAA,GAAG,EAAE,+DAFH;AAGF,QAAA,IAAI,EAAE,QAHJ;AAIF,QAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,oBAAU,kBAFL;AAGL,2BAAiB,YAAY,YAAY,CAAC,OAAb,CAAqB,WAArB;AAHxB;AAJP,OAAD,CAAL,CAUC,IAVD,CAUO,UAAA,QAAO,EAAK;AACf,QAAA,OAAO,CAAC,GAAR,CAAY,QAAQ,CAAC,IAArB;AACA,QAAA,QAAQ,CAAC,KAAT,GAAiB,EAAjB;AACA,QAAA,SAAS,CAAC,KAAV,GAAkB,EAAlB;AACA,QAAA,OAAO,CAAC,KAAR,GAAgB,QAAQ,CAAC,IAAT,CAAc,OAA9B;AACA,QAAA,MAAM,CAAC,KAAP,GAAe,QAAQ,CAAC,IAAT,CAAc,MAA7B;AACH,OAhBD,EAiBC,KAjBD,CAiBQ,UAAC,KAAD,EAAW;AACf,QAAA,OAAO,CAAC,GAAR,CAAY,OAAO,CAAC,MAAR,CAAe,KAAf,CAAZ;AACH,OAnBD;AAoBJ;;AAEA,WAAO;AACH,MAAA,mBAAmB,EAAnB,mBADG;AAEH,MAAA,QAAQ,EAAR,QAFG;AAGH,MAAA,YAAY,EAAZ,YAHG;AAIH,MAAA,OAAO,EAAP,OAJG;AAKH,MAAA,MAAK,EAAL;AALG,KAAP;AAOH;AAjDU,CAAf","sourcesContent":["<template>\r\n    <b-button v-b-toggle.collapse-2 variant=\"success m-2\">建立看版</b-button>\r\n    <form class=\"p-8 w-1/2 bg-white rounded shadow\" @submit.prevent=\"handleSubmit\">\r\n    <b-collapse id=\"collapse-2\" class=\"m-2\">\r\n        <b-card>\r\n            <b-row class=\"my-2\">\r\n                <b-col md=\"2\">\r\n                    <label for=\"\">看版名稱</label>\r\n                </b-col>\r\n                <b-col md=\"10\">\r\n                    <b-form-input v-model=\"title\" placeholder=\"請填入看版名稱\"></b-form-input>\r\n                </b-col>\r\n            </b-row>\r\n            <b-row class=\"my-2\">\r\n                <b-col md=\"2\">\r\n                    <label for=\"\">看版說明</label>\r\n                </b-col>\r\n                <b-col md=\"10\">\r\n                    <b-form-textarea\r\n                        id=\"textarea\"\r\n                        v-model=\"description\"\r\n                        placeholder=\"請填入看版說明\"\r\n                        rows=\"5\"\r\n                        max-rows=\"5\">\r\n                    </b-form-textarea>\r\n                </b-col>\r\n            </b-row>\r\n            <b-row class=\"my-2\">\r\n                <b-col md=\"2\">\r\n                    <label for=\"\">消息類型</label>\r\n                </b-col>\r\n                <b-col md=\"10\">\r\n                    <!--  -->\r\n                    <div class=\"min-h-screen flex items-center justify-center\">\r\n                        <div v-if=\"message\"\r\n                            class=\"bg-green-600 text-white rounded p-4 mb-8\">{{ message }}</div>\r\n                        <img v-show=\"imageUrl\"\r\n                            :src=\"imageUrl\"\r\n                            class=\"w-48 h-48 object-cover\"\r\n                            width=\"200\">\r\n                        <div>\r\n                            <input type=\"file\"\r\n                                accept=\"image/*\"\r\n                                @change=\"handleImageSelected\">\r\n                        </div>\r\n                        <div class=\"flex flex-wrap mt-8\">\r\n                            <img v-for=\"(image, key) in images\"\r\n                                :key=\"key\"\r\n                                :src=\"image.image\"\r\n                                class=\"w-48 h-46 object-cover mr-4 mb-4 shadow rounded\">\r\n                        </div>\r\n                    </div>\r\n                    <!--  -->\r\n                </b-col>\r\n                <b-col md=\"12 text-center\">\r\n                    <b-button type=\"submit\" variant=\"success m-2\">創建</b-button>\r\n                </b-col>\r\n            </b-row>\r\n        </b-card>\r\n    </b-collapse>\r\n    </form>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { useImageUpload } from \"./useImageUpload\";\r\nimport { ref } from \"vue\";\r\n\r\nexport default {\r\n    name: \"Home\",\r\n    data() {\r\n        return {\r\n            title: '',\r\n            description: ''\r\n        }\r\n    },\r\n    setup() {\r\n        let message = ref(\"\");\r\n        let images = ref([]);\r\n\r\n        let { imageFile, imageUrl, handleImageSelected } = useImageUpload();\r\n\r\n        function handleSubmit() {\r\n            let formdata = new FormData();\r\n            formdata.append(\"title\", this.title);\r\n            formdata.append(\"description\", this.description);\r\n            formdata.append(\"file_id\", imageFile.value);\r\n            console.log(formdata);\r\n            axios({\r\n                method: 'post',\r\n                url: 'http://localhost/ntcust_lang_backend/public/api/banner/create',\r\n                data: formdata,\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Accept\": \"application/json\",\r\n                    \"Authorization\": 'Bearer ' + localStorage.getItem('API_TOKEN'),\r\n                }\r\n            })\r\n            .then( response => {\r\n                console.log(response.data);\r\n                imageUrl.value = \"\";\r\n                imageFile.value = \"\";\r\n                message.value = response.data.message;\r\n                images.value = response.data.images;\r\n            })\r\n            .catch( (error) => {\r\n                console.log(Promise.reject(error));\r\n            })\r\n        }\r\n\r\n        return {\r\n            handleImageSelected,\r\n            imageUrl,\r\n            handleSubmit,\r\n            message,\r\n            images\r\n        };\r\n    },\r\n};\r\n</script>\r\n"],"sourceRoot":""}]}