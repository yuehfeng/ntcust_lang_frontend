{"remainingRequest":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\News.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\News.vue","mtime":1647677763916},{"path":"C:\\www-server\\ntcust_lang_frontend\\babel.config.js","mtime":1647072923606},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1645007186797},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1645007187285}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwppbXBvcnQgeyBOZXdzU2VydmVyIH0gZnJvbSAiLi4vLi4vcHJvdmlkZXJzL2h0dHAtc2VydmVyLmpzIjsKaW1wb3J0IExvYWRpbmcgZnJvbSAndnVlLWxvYWRpbmctb3ZlcmxheSc7CmltcG9ydCAndnVlLWxvYWRpbmctb3ZlcmxheS9kaXN0L3Z1ZS1sb2FkaW5nLmNzcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTmV3cycsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5ld3M6IFtdLAogICAgICBwYWdlOiB7CiAgICAgICAgY3VycmVudDogMSwKICAgICAgICBhbGw6IDEKICAgICAgfSwKICAgICAgcXVlcnk6IHsKICAgICAgICBpc0xvYWRpbmc6IHRydWUsCiAgICAgICAgZnVsbFBhZ2U6IHRydWUKICAgICAgfQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmc6IExvYWRpbmcKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMubW9tZW50ID0gbW9tZW50OwogICAgTmV3c1NlcnZlci5yZWFkKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMubmV3cyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0OwogICAgICBfdGhpcy5wYWdlLmN1cnJlbnQgPSByZXNwb25zZS5kYXRhLnBhZ2VzLmN1cnJlbnQ7CiAgICAgIF90aGlzLnBhZ2UuYWxsID0gcmVzcG9uc2UuZGF0YS5wYWdlcy5hbGw7CiAgICAgIF90aGlzLnF1ZXJ5LmlzTG9hZGluZyA9IGZhbHNlOwogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgcm93czogZnVuY3Rpb24gcm93cygpIHsKICAgICAgcmV0dXJuIHRoaXMucGFnZS5hbGw7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBwcmV2UGFnZTogZnVuY3Rpb24gcHJldlBhZ2UoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5wYWdlLmN1cnJlbnQgLT0gMTsKICAgICAgTmV3c1NlcnZlci5yZWFkKHsKICAgICAgICBwYWdlOiB0aGlzLnBhZ2UuY3VycmVudAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5uZXdzID0gcmVzcG9uc2UuZGF0YS5yZXN1bHQ7CiAgICAgICAgX3RoaXMyLmVkaXRpbmcuZGF0YSA9IF90aGlzMi5uZXdzWzBdOwogICAgICAgIF90aGlzMi5lZGl0aW5nLm5vdGlmaWNhdGlvbiA9IF90aGlzMi5uZXdzWzBdLm5vdGlmaWNhdGlvbjsKICAgICAgICBfdGhpczIucGFnZS5jdXJyZW50ID0gcmVzcG9uc2UuZGF0YS5wYWdlcy5jdXJyZW50OwogICAgICAgIF90aGlzMi5wYWdlLmFsbCA9IHJlc3BvbnNlLmRhdGEucGFnZXMuYWxsOwogICAgICB9KTsKICAgIH0sCiAgICBuZXh0UGFnZTogZnVuY3Rpb24gbmV4dFBhZ2UoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5wYWdlLmN1cnJlbnQgKz0gMTsKICAgICAgTmV3c1NlcnZlci5yZWFkKHsKICAgICAgICBwYWdlOiB0aGlzLnBhZ2UuY3VycmVudAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy5uZXdzID0gcmVzcG9uc2UuZGF0YS5yZXN1bHQ7CiAgICAgICAgX3RoaXMzLmVkaXRpbmcuZGF0YSA9IF90aGlzMy5uZXdzWzBdOwogICAgICAgIF90aGlzMy5lZGl0aW5nLm5vdGlmaWNhdGlvbiA9IF90aGlzMy5uZXdzWzBdLm5vdGlmaWNhdGlvbjsKICAgICAgICBfdGhpczMucGFnZS5jdXJyZW50ID0gcmVzcG9uc2UuZGF0YS5wYWdlcy5jdXJyZW50OwogICAgICAgIF90aGlzMy5wYWdlLmFsbCA9IHJlc3BvbnNlLmRhdGEucGFnZXMuYWxsOwogICAgICB9KTsKICAgIH0sCiAgICBsb2NhdGlvblBhZ2U6IGZ1bmN0aW9uIGxvY2F0aW9uUGFnZShudW0pIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLmN1cnJlbnQgPSBudW07CiAgICAgIE5ld3NTZXJ2ZXIucmVhZCh7CiAgICAgICAgcGFnZTogbnVtCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM0Lm5ld3MgPSByZXNwb25zZS5kYXRhLnJlc3VsdDsKICAgICAgICBfdGhpczQuZWRpdGluZy5kYXRhID0gX3RoaXM0Lm5ld3NbMF07CiAgICAgICAgX3RoaXM0LmVkaXRpbmcubm90aWZpY2F0aW9uID0gX3RoaXM0Lm5ld3NbMF0ubm90aWZpY2F0aW9uOwogICAgICAgIF90aGlzNC5wYWdlLmN1cnJlbnQgPSByZXNwb25zZS5kYXRhLnBhZ2VzLmN1cnJlbnQ7CiAgICAgICAgX3RoaXM0LnBhZ2UuYWxsID0gcmVzcG9uc2UuZGF0YS5wYWdlcy5hbGw7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\News.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <loading v-model:active=\"query.isLoading\"\n        :can-cancel=\"true\"\n        :on-cancel=\"onCancel\"\n        :is-full-page=\"query.fullPage\"/>\n    <div>\n        <h2>\n            <router-link to=\"/\">最新消息</router-link>\n        </h2>\n        <table class=\"table table-hover\">\n            <thead>\n                <tr>\n                    <th scope=\"col\" colspan=\"2\">標題</th>\n                    <th scope=\"col\" class=\"text-end\">發布日期</th>\n                    <th scope=\"col\" class=\"text-end\">閱覽次數</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"(item, index) in news\" :key=\"index\">\n                    <th scope=\"row\">\n                        <span v-if=\"item.notification.id == 1\" class=\"badge bg-primary\">{{ item.notification.type }}</span>\n                        <span v-if=\"item.notification.id == 2\" class=\"badge bg-secondary\">{{ item.notification.type }}</span>\n                        <span v-if=\"item.notification.id == 3\" class=\"badge bg-warning text-dark\">{{ item.notification.type }}</span>\n                        <span v-if=\"item.notification.id == 4\" class=\"badge bg-info text-dark\">{{ item.notification.type }}</span>\n                        <span v-if=\"item.notification.id == 5\" class=\"badge bg-danger\">{{ item.notification.type }}</span>\n                    </th>\n                    <td>\n                        <router-link :to=\"'/news/'+item.id\">\n                            <span v-if=\"item.top\">【置頂】</span>\n                            {{ item.title }}\n                        </router-link>\n                    </td>\n                    <td class=\"text-end\">{{ moment(item.created_at).format(\"YYYY-MM-DD HH:MM\") }}</td>\n                    <td class=\"text-end\">{{ item.views }}</td>\n                </tr>\n            </tbody>\n        </table>\n        <nav aria-label=\"Page navigation example\">\n            <ul class=\"pagination justify-content-end\">\n                <li class=\"page-item disabled\" v-if=\"page.current == 1\">\n                    <a @click=\"prevPage\" class=\"page-link\">Previous</a>\n                </li>\n                <li class=\"page-item\" v-if=\"page.current != 1\">\n                    <a @click=\"prevPage\" class=\"page-link\">Previous</a>\n                </li>\n                <li class=\"page-item\" v-for=\"index in rows\" :key=\"index\">\n                    <a v-if=\"page.current == index\" class=\"page-link bg-primary text-light fw-bolder\" @click=\"locationPage(index)\">{{ index }}</a>\n                    <a v-if=\"page.current != index\" class=\"page-link\" @click=\"locationPage(index)\">{{ index }}</a>\n                </li>\n                <li class=\"page-item disabled\" v-if=\"page.current == page.all\">\n                    <a @click=\"nextPage\" class=\"page-link\">Next</a>\n                </li>\n                <li class=\"page-item\" v-if=\"page.current != page.all\">\n                    <a @click=\"nextPage\" class=\"page-link\">Next</a>\n                </li>\n            </ul>\n        </nav>\n    </div>\n</template>\n\n<script>\nimport moment from 'moment';\nimport { NewsServer } from \"../../providers/http-server.js\";\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css';\n\nexport default {\n    name: 'News',\n    data(){\n        return {\n            news: [],\n            page: {\n                current: 1,\n                all: 1\n            },\n            query: {\n                isLoading: true,\n                fullPage: true\n            }\n        }\n    },\n    components: {\n        Loading\n    },\n    created(){\n        this.moment = moment;\n        NewsServer.read().then(\n            (response) => {\n                this.news = response.data.result;\n                this.page.current = response.data.pages.current;\n                this.page.all = response.data.pages.all;\n                this.query.isLoading = false;\n            }\n        );\n    },\n    computed: {\n        rows(){\n            return this.page.all\n        }\n    },\n    methods:\n    {\n        prevPage() {\n            this.page.current -= 1;\n            NewsServer.read({\n                page: this.page.current\n            }).then(\n                (response) => {\n                    this.news = response.data.result;\n                    this.editing.data = this.news[0];\n                    this.editing.notification = this.news[0].notification;\n                    this.page.current = response.data.pages.current;\n                    this.page.all = response.data.pages.all;\n                }\n            );\n        },\n        nextPage()\n        {\n            this.page.current += 1;\n            NewsServer.read({\n                page: this.page.current\n            }).then(\n                (response) => {\n                    this.news = response.data.result;\n                    this.editing.data = this.news[0];\n                    this.editing.notification = this.news[0].notification;\n                    this.page.current = response.data.pages.current;\n                    this.page.all = response.data.pages.all;\n                }\n            );\n        },\n        locationPage(num)\n        {\n            this.current = num;\n            NewsServer.read({\n                page: num\n            }).then(\n                (response) => {\n                    this.news = response.data.result;\n                    this.editing.data = this.news[0];\n                    this.editing.notification = this.news[0].notification;\n                    this.page.current = response.data.pages.current;\n                    this.page.all = response.data.pages.all;\n                }\n            );\n        }\n    }\n}\n</script>\n"],"sourceRoot":""}]}