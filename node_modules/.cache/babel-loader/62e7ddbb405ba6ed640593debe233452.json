{"remainingRequest":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\Manage-Album.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\Manage-Album.vue","mtime":1647371326781},{"path":"C:\\www-server\\ntcust_lang_frontend\\babel.config.js","mtime":1647072923606},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1645007186797},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1645007187285}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IE1hbmFnZUFsYnVtQ3JlYXRlIGZyb20gJy4uL2NvbXBvbmVudHMvTWFuYWdlLUFsYnVtLUNyZWF0ZS52dWUnOwppbXBvcnQgeyBBbGJ1bVNlcnZlciwgRmlsZVNlcnZlciB9IGZyb20gJy4uLy4uL3Byb3ZpZGVycy9odHRwLXNlcnZlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBjb21wb25lbnRzOiB7CiAgICBNYW5hZ2VBbGJ1bUNyZWF0ZTogTWFuYWdlQWxidW1DcmVhdGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZW5kZXJDb21wb25lbnQ6IHRydWUsCiAgICAgIGFsYnVtczogW10sCiAgICAgIGVkaXRpbmc6IHsKICAgICAgICBjdXJyZW50OiAwLAogICAgICAgIGRhdGE6IFtdCiAgICAgIH0sCiAgICAgIGNoYW5nZVNlbGVjdDogZmFsc2UsCiAgICAgIHBob3RvczogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLm1vbWVudCA9IG1vbWVudDsKICAgIEFsYnVtU2VydmVyLnJlYWRBTEwoewogICAgICBhbGw6IHRydWUKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKQogICAgICBfdGhpcy5hbGJ1bXMgPSByZXNwb25zZS5kYXRhOwogICAgICBfdGhpcy5lZGl0aW5nLmRhdGEgPSBfdGhpcy5hbGJ1bXNbMF07CiAgICAgIF90aGlzLmVkaXRpbmcuY3VycmVudCA9IDA7CiAgICAgIEZpbGVTZXJ2ZXIuZmlsdGVyKDUsIF90aGlzLmVkaXRpbmcuZGF0YS5pZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLnBob3RvcyA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlRGF0YTogZnVuY3Rpb24gdXBkYXRlRGF0YShpZCkgewogICAgICBBbGJ1bVNlcnZlci51cGRhdGUoaWQsIHRoaXMuZWRpdGluZy5kYXRhKS50aGVuKCk7CiAgICB9LAogICAgZGVsZXRlRGF0YTogZnVuY3Rpb24gZGVsZXRlRGF0YShpZCkgewogICAgICBBbGJ1bVNlcnZlci5kZWxldGUoaWQpLnRoZW4oKTsgLy8gdGhpcy4kcm91dGVyLmdvKDApOwogICAgfSwKICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KG51bSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuZWRpdGluZy5jdXJyZW50ID0gbnVtOwogICAgICB0aGlzLmVkaXRpbmcuZGF0YSA9IHRoaXMuYWxidW1zW251bV07CiAgICAgIEZpbGVTZXJ2ZXIuZmlsdGVyKDUsIHRoaXMuZWRpdGluZy5kYXRhLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLnBob3RvcyA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVGaWxlOiBmdW5jdGlvbiBkZWxldGVGaWxlKGlkKSB7CiAgICAgIEZpbGVTZXJ2ZXIuZGVsZXRlKGlkKS50aGVuKCk7CiAgICB9LAogICAgY292ZXJGaWxlOiBmdW5jdGlvbiBjb3ZlckZpbGUoaWQpIHsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgY292ZXJfZmlsZTogaWQKICAgICAgfTsKICAgICAgQWxidW1TZXJ2ZXIudXBkYXRlKHRoaXMuZWRpdGluZy5kYXRhLmlkLCBkYXRhKS50aGVuKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\Manage-Album.vue"],"names":[],"mappings":";;AA8FA,OAAO,MAAP,MAAmB,QAAnB;AACA,OAAO,iBAAP,MAA8B,uCAA9B;AACA,SAAS,WAAT,EAAsB,UAAtB,QAAwC,6BAAxC;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,KADK;AAEX,EAAA,UAAU,EAAE;AACR,IAAA,iBAAgB,EAAhB;AADQ,GAFD;AAKX,EAAA,IALW,kBAKL;AACF,WAAO;AACH,MAAA,eAAe,EAAE,IADd;AAEH,MAAA,MAAM,EAAE,EAFL;AAGH,MAAA,OAAO,EAAE;AACL,QAAA,OAAO,EAAE,CADJ;AAEL,QAAA,IAAI,EAAE;AAFD,OAHN;AAOH,MAAA,YAAY,EAAE,KAPX;AAQH,MAAA,MAAM,EAAE;AARL,KAAP;AAUH,GAhBU;AAiBX,EAAA,OAjBW,qBAiBF;AAAA;;AACL,SAAK,MAAL,GAAc,MAAd;AACA,IAAA,WAAW,CAAC,OAAZ,CAAoB;AAAC,MAAA,GAAG,EAAE;AAAN,KAApB,EAAiC,IAAjC,CACI,UAAC,QAAD,EAAc;AACV;AACA,MAAA,KAAI,CAAC,MAAL,GAAc,QAAQ,CAAC,IAAvB;AACA,MAAA,KAAI,CAAC,OAAL,CAAa,IAAb,GAAoB,KAAI,CAAC,MAAL,CAAY,CAAZ,CAApB;AACA,MAAA,KAAI,CAAC,OAAL,CAAa,OAAb,GAAuB,CAAvB;AACA,MAAA,UAAU,CAAC,MAAX,CAAkB,CAAlB,EAAqB,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,EAAvC,EAA2C,IAA3C,CACI,UAAC,GAAD;AAAA,eAAS,KAAI,CAAC,MAAL,GAAc,GAAG,CAAC,IAA3B;AAAA,OADJ;AAGJ,KATJ;AAWH,GA9BU;AA+BX,EAAA,OAAO,EAAE;AACL,IAAA,UADK,sBACM,EADN,EACS;AACV,MAAA,WAAW,CAAC,MAAZ,CAAmB,EAAnB,EAAuB,KAAK,OAAL,CAAa,IAApC,EAA0C,IAA1C;AAGH,KALI;AAML,IAAA,UANK,sBAMM,EANN,EAMS;AACV,MAAA,WAAW,CAAC,MAAZ,CAAmB,EAAnB,EAAuB,IAAvB,GADU,CAIV;AACH,KAXI;AAYL,IAAA,MAZK,kBAYE,GAZF,EAYM;AAAA;;AACP,WAAK,OAAL,CAAa,OAAb,GAAuB,GAAvB;AACA,WAAK,OAAL,CAAa,IAAb,GAAoB,KAAK,MAAL,CAAY,GAAZ,CAApB;AACA,MAAA,UAAU,CAAC,MAAX,CAAkB,CAAlB,EAAqB,KAAK,OAAL,CAAa,IAAb,CAAkB,EAAvC,EAA2C,IAA3C,CACI,UAAC,GAAD;AAAA,eAAS,MAAI,CAAC,MAAL,GAAc,GAAG,CAAC,IAA3B;AAAA,OADJ;AAGH,KAlBI;AAmBL,IAAA,UAnBK,sBAmBM,EAnBN,EAmBU;AACX,MAAA,UAAU,CAAC,MAAX,CAAkB,EAAlB,EAAsB,IAAtB;AAGH,KAvBI;AAwBL,IAAA,SAxBK,qBAwBK,EAxBL,EAwBS;AACV,UAAI,IAAG,GAAI;AACP,QAAA,UAAU,EAAE;AADL,OAAX;AAGA,MAAA,WAAW,CAAC,MAAZ,CAAmB,KAAK,OAAL,CAAa,IAAb,CAAkB,EAArC,EAAyC,IAAzC,EAA+C,IAA/C;AAGJ;AA/BK;AA/BE,CAAf","sourcesContent":["<template>\r\n    <ManageAlbumCreate></ManageAlbumCreate>\r\n    <b-tab title=\"消息管理\" active  v-if=\"renderComponent\">\r\n        <b-row>\r\n            <b-col md=\"3\">\r\n                <b-list-group v-for=\"(item,index) in albums\" :key=\"index\">\r\n                    <b-list-group-item active v-if=\"index == editing.current\" @click=\"select(index)\">\r\n                        <b-badge>{{ item.id }}</b-badge>\r\n                        {{ item.name }}\r\n                    </b-list-group-item>\r\n                    <b-list-group-item v-if=\"index != editing.current\" @click=\"select(index)\">\r\n                        <b-badge>{{ item.id }}</b-badge>\r\n                        {{ item.name }}\r\n                    </b-list-group-item>\r\n                </b-list-group>\r\n            </b-col>\r\n            <b-col md=\"9\">\r\n                <b-row class=\"my-2\">\r\n                    <b-col md=\"2\">\r\n                        <label for=\"\">相簿編號</label>\r\n                    </b-col>\r\n                    <b-col md=\"10\">\r\n                        <b-form-input v-model=\"editing.data.id\" placeholder=\"Enter your name\" disabled></b-form-input>\r\n                    </b-col>\r\n                </b-row>\r\n                <b-row class=\"my-2\">\r\n                    <b-col md=\"2\">\r\n                        <label for=\"\">相簿名稱</label>\r\n                    </b-col>\r\n                    <b-col md=\"10\">\r\n                        <b-form-input v-model=\"editing.data.name\" placeholder=\"Enter your name\"></b-form-input>\r\n                    </b-col>\r\n                </b-row>\r\n                <b-row class=\"my-2\">\r\n                    <b-col md=\"2\">\r\n                        <label for=\"\">內文</label>\r\n                    </b-col>\r\n                    <b-col md=\"10\">\r\n                        <b-form-textarea\r\n                            id=\"textarea\"\r\n                            v-model=\"editing.data.context\"\r\n                            placeholder=\"Enter something...\"\r\n                            rows=\"10\"\r\n                            max-rows=\"6\"\r\n                            >\r\n                        </b-form-textarea>\r\n                    </b-col>\r\n                </b-row>\r\n                <b-row class=\"my-2\">\r\n                    <b-col md=\"2\">\r\n                        <label for=\"\">建立時間</label>\r\n                    </b-col>\r\n                    <b-col md=\"10\">\r\n                        <b-form-input disabled v-model=\"editing.data.created_at\" placeholder=\"Enter your name\"></b-form-input>\r\n                    </b-col>\r\n                </b-row>\r\n                <b-row class=\"my-2\">\r\n                    <b-col md=\"2\">\r\n                        <label for=\"\">更新時間</label>\r\n                    </b-col>\r\n                    <b-col md=\"10\">\r\n                        <b-form-input disabled v-model=\"editing.data.updated_at\" placeholder=\"Enter your name\"></b-form-input>\r\n                    </b-col>\r\n                </b-row>\r\n                <b-row class=\"my-2\">\r\n                    <b-col md=\"2\">\r\n                        <label for=\"\">圖片</label>\r\n                    </b-col>\r\n                    <b-col md=\"10\">\r\n                        <b-row>\r\n                            <b-col md=\"4 text-center mt-2\" v-for=\"item in photos\" :key=\"item.id\">\r\n                                <b-card :img-src=\"'http://localhost/ntcust_lang_backend/storage/app/' + item.file.path\" \r\n                                img-alt=\"Image\" \r\n                                img-top>\r\n                                    <b-button @click=\"coverFile(item.id)\" variant=\"info m-2\">設為封面</b-button>\r\n                                    <b-button @click=\"deleteFile(item.id)\" variant=\"danger m-2\">刪除</b-button>\r\n                                    <template #footer>更新於{{ moment(item.updated_at).format(\"YYYY-MM-DD HH:MM\") }}</template>\r\n                                </b-card>\r\n                            </b-col>\r\n                        </b-row>\r\n                    </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                    <b-col md=\"12 text-center\">\r\n                        <b-button variant=\"success m-2\" @click=\"updateData(editing.data.id)\">更新</b-button>\r\n                        <b-button variant=\"danger m-2\" @click=\"deleteData(editing.data.id)\">刪除</b-button>\r\n                    </b-col>\r\n                </b-row>    \r\n            </b-col>\r\n        </b-row>\r\n    </b-tab>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nimport ManageAlbumCreate from '../components/Manage-Album-Create.vue';\r\nimport { AlbumServer, FileServer } from '../../providers/http-server';\r\n\r\nexport default {\r\n    name: 'App',\r\n    components: {\r\n        ManageAlbumCreate\r\n    },\r\n    data(){\r\n        return {\r\n            renderComponent: true,\r\n            albums: [],\r\n            editing: {\r\n                current: 0,\r\n                data: [],\r\n            },\r\n            changeSelect: false,\r\n            photos: []\r\n        }\r\n    },\r\n    created(){\r\n        this.moment = moment;\r\n        AlbumServer.readALL({all: true}).then(\r\n            (response) => {\r\n                // console.log(response)\r\n                this.albums = response.data;\r\n                this.editing.data = this.albums[0];\r\n                this.editing.current = 0;\r\n                FileServer.filter(5, this.editing.data.id).then(\r\n                    (res) => this.photos = res.data\r\n                );\r\n            }\r\n        );\r\n    },\r\n    methods: {\r\n        updateData(id){\r\n            AlbumServer.update(id, this.editing.data).then(\r\n                // (response) => console.log(response)\r\n            );\r\n        },\r\n        deleteData(id){\r\n            AlbumServer.delete(id).then(\r\n                // (response) => console.log(response)\r\n            );\r\n            // this.$router.go(0);\r\n        },\r\n        select(num){\r\n            this.editing.current = num;\r\n            this.editing.data = this.albums[num];\r\n            FileServer.filter(5, this.editing.data.id).then(\r\n                (res) => this.photos = res.data\r\n            );\r\n        },\r\n        deleteFile(id) {\r\n            FileServer.delete(id).then(\r\n                // (response) => console.log(response)\r\n            );\r\n        },\r\n        coverFile(id) {\r\n            let data = {\r\n                cover_file: id\r\n            };\r\n            AlbumServer.update(this.editing.data.id, data).then(\r\n                // (res) => console.log(res)\r\n            );\r\n        }\r\n    }\r\n}\r\n</script>\r\n"],"sourceRoot":""}]}