{"remainingRequest":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\Manage-Banner.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\Manage-Banner.vue","mtime":1654765745357},{"path":"C:\\www-server\\ntcust_lang_frontend\\babel.config.js","mtime":1647072923606},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1645007186797},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1645007187285}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IE1hbmFnZUJhbm5lckNyZWF0ZSBmcm9tICcuL01hbmFnZS1CYW5uZXItQ3JlYXRlLnZ1ZSc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IHsgQmFubmVyU2VydmVyIH0gZnJvbSAiLi4vLi4vcHJvdmlkZXJzL2h0dHAtc2VydmVyLmpzIjsKaW1wb3J0IENsYXNzaWNFZGl0b3IgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS1idWlsZC1jbGFzc2ljJzsKdmFyIGVkaXRvciA9IENsYXNzaWNFZGl0b3I7CnZhciBlZGl0b3JDb25maWcgPSB7CiAgdG9vbGJhcjoge30KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAogIGNvbXBvbmVudHM6IHsKICAgIE1hbmFnZUJhbm5lckNyZWF0ZTogTWFuYWdlQmFubmVyQ3JlYXRlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gTW9kYWwKICAgICAgbmFtZVN0YXRlOiBudWxsLAogICAgICBzdWJtaXR0ZWROYW1lczogW10sCiAgICAgIC8vIOa4suafk+izh+aWmQogICAgICBiYW5uZXJzOiBudWxsLAogICAgICBlZGl0QmFubmVyOiB7CiAgICAgICAgZGF0YTogW10sCiAgICAgICAgaW5kZXg6IDAKICAgICAgfSwKICAgICAgZWRpdG9yOiBlZGl0b3IsCiAgICAgIGVkaXRvckNvbmZpZzogZWRpdG9yQ29uZmlnCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5tb21lbnQgPSBtb21lbnQ7CiAgICBCYW5uZXJTZXJ2ZXIucmVhZCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLmJhbm5lcnMgPSByZXNwb25zZS5kYXRhOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBlZGl0OiBmdW5jdGlvbiBlZGl0KGluZGV4KSB7CiAgICAgIHRoaXMuZWRpdEJhbm5lci5pbmRleCA9IGluZGV4OwogICAgICB0aGlzLmVkaXRCYW5uZXIuZGF0YSA9IHRoaXMuYmFubmVyc1t0aGlzLmVkaXRCYW5uZXIuaW5kZXhdOwogICAgfSwKICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGlkKSB7CiAgICAgIEJhbm5lclNlcnZlci5kZWxldGUoaWQpLnRoZW4oZnVuY3Rpb24gKCkgey8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9LAogICAgY2hlY2tGb3JtVmFsaWRpdHk6IGZ1bmN0aW9uIGNoZWNrRm9ybVZhbGlkaXR5KCkgewogICAgICB2YXIgdmFsaWQgPSB0aGlzLiRyZWZzLmZvcm0uY2hlY2tWYWxpZGl0eSgpOwogICAgICB0aGlzLm5hbWVTdGF0ZSA9IHZhbGlkOwogICAgICByZXR1cm4gdmFsaWQ7CiAgICB9LAogICAgaGFuZGxlT2s6IGZ1bmN0aW9uIGhhbmRsZU9rKCkgewogICAgICB0aGlzLmhhbmRsZVN1Ym1pdCgpOwogICAgfSwKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vIEV4aXQgd2hlbiB0aGUgZm9ybSBpc24ndCB2YWxpZAogICAgICBpZiAoIXRoaXMuY2hlY2tGb3JtVmFsaWRpdHkoKSkgewogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBQdXNoIHRoZSBmaWxlZCB0byBzdWJtaXR0ZWQgYXhpb3MKCgogICAgICBCYW5uZXJTZXJ2ZXIudXBkYXRlKHRoaXMuZWRpdEJhbm5lci5kYXRhLmlkLCB0aGlzLmVkaXRCYW5uZXIuZGF0YSkudGhlbihmdW5jdGlvbiAoKSB7Ly8gY29uc29sZS5sb2coKTsKICAgICAgfSk7IC8vIEhpZGUgdGhlIG1vZGFsIG1hbnVhbGx5CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRidk1vZGFsLmhpZGUoJ21vZGFsLXByZXZlbnQtY2xvc2luZy0yJyk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\Manage-Banner.vue"],"names":[],"mappings":"AAqFA,OAAO,kBAAP,MAA+B,4BAA/B;AACA,OAAO,MAAP,MAAmB,QAAnB;AACA,SAAS,YAAT,QAA6B,gCAA7B;AACA,OAAO,aAAP,MAA0B,mCAA1B;AAEA,IAAI,MAAK,GAAI,aAAb;AACA,IAAI,YAAW,GAAI;AACf,EAAA,OAAO,EAAE;AADM,CAAnB;AAKA,eAAe;AACX,EAAA,IAAI,EAAE,KADK;AAEX,EAAA,UAAU,EAAE;AACR,IAAA,kBAAiB,EAAjB;AADQ,GAFD;AAKX,EAAA,IALW,kBAKL;AACF,WAAO;AACH;AACA,MAAA,SAAS,EAAE,IAFR;AAGH,MAAA,cAAc,EAAE,EAHb;AAIH;AACA,MAAA,OAAO,EAAE,IALN;AAMH,MAAA,UAAU,EAAE;AACR,QAAA,IAAI,EAAE,EADE;AAER,QAAA,KAAK,EAAE;AAFC,OANT;AAUH,MAAA,MAAM,EAAN,MAVG;AAWH,MAAA,YAAW,EAAX;AAXG,KAAP;AAaH,GAnBU;AAoBX,EAAA,OApBW,qBAoBF;AAAA;;AACL,SAAK,MAAL,GAAc,MAAd;AACA,IAAA,YAAY,CAAC,IAAb,GAAoB,IAApB,CACI,UAAC,QAAD,EAAc;AACV,MAAA,KAAI,CAAC,OAAL,GAAe,QAAQ,CAAC,IAAxB;AACJ,KAHJ;AAKH,GA3BU;AA4BX,EAAA,OAAO,EACP;AACI,IAAA,IADJ,gBACS,KADT,EAEI;AACI,WAAK,UAAL,CAAgB,KAAhB,GAAwB,KAAxB;AACA,WAAK,UAAL,CAAgB,IAAhB,GAAuB,KAAK,OAAL,CAAa,KAAK,UAAL,CAAgB,KAA7B,CAAvB;AACH,KALL;AAMI,IAAA,MANJ,kBAMW,EANX,EAOI;AACI,MAAA,YAAY,CAAC,MAAb,CAAoB,EAApB,EAAwB,IAAxB,CAA6B,YAAM,CAC/B;AACH,OAFD;AAGH,KAXL;AAYI,IAAA,iBAZJ,+BAYwB;AAChB,UAAM,KAAI,GAAI,KAAK,KAAL,CAAW,IAAX,CAAgB,aAAhB,EAAd;AACA,WAAK,SAAL,GAAiB,KAAjB;AACA,aAAO,KAAP;AACH,KAhBL;AAiBI,IAAA,QAjBJ,sBAiBe;AACP,WAAK,YAAL;AACH,KAnBL;AAoBI,IAAA,YApBJ,0BAoBmB;AAAA;;AACX;AACA,UAAI,CAAC,KAAK,iBAAL,EAAL,EAA+B;AAC3B;AACJ,OAJW,CAKX;;;AACA,MAAA,YAAY,CAAC,MAAb,CAAoB,KAAK,UAAL,CAAgB,IAAhB,CAAqB,EAAzC,EAA6C,KAAK,UAAL,CAAgB,IAA7D,EAAmE,IAAnE,CAAwE,YAAM,CAC1E;AACH,OAFD,EANW,CASX;;AACA,WAAK,SAAL,CAAe,YAAM;AACjB,QAAA,MAAI,CAAC,QAAL,CAAc,IAAd,CAAmB,yBAAnB;AACH,OAFD;AAGJ;AAjCJ;AA7BW,CAAf","sourcesContent":["<template>\r\n    <ManageBannerCreate></ManageBannerCreate>\r\n\r\n    <b-modal\r\n        id=\"modal-prevent-closing-2\"\r\n        ref=\"modal-2\"\r\n        title=\"修改看板資料\"\r\n        @ok=\"handleOk\"\r\n    >\r\n        <form ref=\"form\" @submit.stop.prevent=\"handleSubmit\">\r\n            <b-form-group\r\n                label=\"看版標題\"\r\n                label-for=\"UPDATE_BANNER_TITLE\"\r\n                invalid-feedback=\"Name is required\"\r\n                :state=\"nameState\"\r\n            >\r\n                <b-form-input\r\n                    id=\"UPDATE_BANNER_TITLE\"\r\n                    v-model=\"editBanner.data.title\"\r\n                    :state=\"nameState\"\r\n                    required\r\n                ></b-form-input>\r\n            </b-form-group>\r\n            <b-form-group\r\n                label=\"看版說明\"\r\n                label-for=\"UPDATE_BANNER_DESCRIPTION\"\r\n                invalid-feedback=\"Name is required\"\r\n                :state=\"nameState\"\r\n            >\r\n                <ckeditor v-model=\"editBanner.data.description\" :config=\"editorConfig\" :editor=\"editor\"></ckeditor>\r\n            </b-form-group>\r\n        </form>\r\n    </b-modal>\r\n\r\n    <div v-for=\"(items, index) in banners\" :key=\"index\">\r\n        <b-card class=\"overflow-hidden my-2\">\r\n            <b-row no-gutters>\r\n                <b-col md=\"6\">\r\n                    <b-card-img \r\n                        :src=\"'http://localhost/ntcust_lang_backend/storage/app/' + items.file.path\"\r\n                        class=\"rounded-0\">\r\n                    </b-card-img>\r\n                </b-col>\r\n                <b-col md=\"6\">\r\n                    <b-card-body :title=\"items.title\">\r\n                        <b-card-text>\r\n                            <table class=\"table\">\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <td>編號</td>\r\n                                        <td>{{ items.id }}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td>說明</td>\r\n                                        <td v-html=\"items.description\"></td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td>新增時間</td>\r\n                                        <td>{{ moment(items.created_at).format(\"YYYY-MM-DD HH:MM\") }}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td>修改時間</td>\r\n                                        <td>{{ moment(items.updated_at).format(\"YYYY-MM-DD HH:MM\") }}</td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                            <b-row>\r\n                                <b-col md=\"12\" class=\"text-end\">\r\n                                    <b-button \r\n                                    variant=\"success m-1 text-end\"\r\n                                    @click=\"edit(index)\" v-b-modal.modal-prevent-closing-2>\r\n                                        修改\r\n                                    </b-button>\r\n                                    <b-button @click=\"remove(items.id)\" variant=\"danger m-1\">刪除</b-button>\r\n                                </b-col>\r\n                            </b-row>\r\n                        </b-card-text>\r\n                    </b-card-body>\r\n                </b-col>\r\n            </b-row>\r\n        </b-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport ManageBannerCreate from './Manage-Banner-Create.vue';\r\nimport moment from 'moment';\r\nimport { BannerServer } from \"../../providers/http-server.js\";\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\n\r\nlet editor = ClassicEditor;\r\nlet editorConfig = {\r\n    toolbar: {\r\n    }\r\n};\r\n\r\nexport default {\r\n    name: 'App',\r\n    components: {\r\n        ManageBannerCreate\r\n    },\r\n    data(){\r\n        return {\r\n            // Modal\r\n            nameState: null,\r\n            submittedNames: [],\r\n            // 渲染資料\r\n            banners: null,\r\n            editBanner: {\r\n                data: [],\r\n                index: 0\r\n            },\r\n            editor,\r\n            editorConfig\r\n        }\r\n    },\r\n    created(){\r\n        this.moment = moment;\r\n        BannerServer.read().then(\r\n            (response) => {\r\n                this.banners = response.data;\r\n            }\r\n        );\r\n    },\r\n    methods: \r\n    {\r\n        edit(index)\r\n        {\r\n            this.editBanner.index = index;\r\n            this.editBanner.data = this.banners[this.editBanner.index];\r\n        },\r\n        remove(id)\r\n        {\r\n            BannerServer.delete(id).then(() => {\r\n                // console.log(response);\r\n            });\r\n        },\r\n        checkFormValidity() {\r\n            const valid = this.$refs.form.checkValidity()\r\n            this.nameState = valid\r\n            return valid\r\n        },\r\n        handleOk() {\r\n            this.handleSubmit()\r\n        },\r\n        handleSubmit() {\r\n            // Exit when the form isn't valid\r\n            if (!this.checkFormValidity()) {\r\n                return\r\n            }\r\n            // Push the filed to submitted axios\r\n            BannerServer.update(this.editBanner.data.id, this.editBanner.data).then(() => {\r\n                // console.log();\r\n            });\r\n            // Hide the modal manually\r\n            this.$nextTick(() => {\r\n                this.$bvModal.hide('modal-prevent-closing-2')\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped></style>"],"sourceRoot":""}]}