{"remainingRequest":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\www-server\\ntcust_lang_frontend\\src\\views\\pages\\Manage.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\www-server\\ntcust_lang_frontend\\src\\views\\pages\\Manage.vue","mtime":1653951995116},{"path":"C:\\www-server\\ntcust_lang_frontend\\babel.config.js","mtime":1647072923606},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1645007186797},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1645007187285}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBNYW5hZ2VOZXdzIGZyb20gJy4uL2NvbXBvbmVudHMvTWFuYWdlLU5ld3MudnVlJzsKaW1wb3J0IE1hbmFnZUJhbm5lciBmcm9tICcuLi9jb21wb25lbnRzL01hbmFnZS1CYW5uZXIudnVlJzsKaW1wb3J0IE1hbmFnZUxpbmsgZnJvbSAnLi4vY29tcG9uZW50cy9NYW5hZ2UtTGluay52dWUnOwppbXBvcnQgTWFuYWdlSG9ub3IgZnJvbSAnLi4vY29tcG9uZW50cy9NYW5hZ2UtSG9ub3IudnVlJzsKaW1wb3J0IE1hbmFnZVVzZXIgZnJvbSAnLi4vY29tcG9uZW50cy9NYW5hZ2UtVXNlci52dWUnOwppbXBvcnQgTWFuYWdlQWxidW0gZnJvbSAnLi4vY29tcG9uZW50cy9NYW5hZ2UtQWxidW0udnVlJzsKaW1wb3J0IHsgVXNlclNlcnZlciB9IGZyb20gJy4uLy4uL3Byb3ZpZGVycy9odHRwLXNlcnZlci5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBNYW5hZ2VOZXdzOiBNYW5hZ2VOZXdzLAogICAgTWFuYWdlQmFubmVyOiBNYW5hZ2VCYW5uZXIsCiAgICBNYW5hZ2VMaW5rOiBNYW5hZ2VMaW5rLAogICAgTWFuYWdlSG9ub3I6IE1hbmFnZUhvbm9yLAogICAgTWFuYWdlVXNlcjogTWFuYWdlVXNlciwKICAgIE1hbmFnZUFsYnVtOiBNYW5hZ2VBbGJ1bQogIH0sCiAgbmFtZTogJ0FwcCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGE6IHsKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIHJlc3BvbnNlOiB7CiAgICAgICAgc3RhdHVzOiBmYWxzZSwKICAgICAgICBmZWVkYmFjazogZmFsc2UsCiAgICAgICAgZXJyb3I6IGZhbHNlLAogICAgICAgIGNvZGU6IDIwMAogICAgICB9LAogICAgICB1c2VyOiB7CiAgICAgICAgaWQ6IDAsCiAgICAgICAgbmFtZTogJycKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ0FQSV9UT0tFTicpICE9IG51bGwpIHsKICAgICAgdGhpcy5yZXNwb25zZS5zdGF0dXMgPSB0cnVlOwogICAgICB0aGlzLnVzZXIubmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdVU0VSX05BTUUnKTsKICAgICAgdGhpcy51c2VyLmlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1VTRVJfSUQnKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIFVzZXJTZXJ2ZXIuTG9naW4odGhpcy5kYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLnJlc3BvbnNlLnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1czsKCiAgICAgICAgaWYgKF90aGlzLnJlc3BvbnNlLnN0YXR1cykgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ0FQSV9UT0tFTicsIHJlc3BvbnNlLnBhcmFtZXRlcik7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnVVNFUl9OQU1FJywgcmVzcG9uc2UuZGF0YS5uYW1lKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdVU0VSX0lEJywgcmVzcG9uc2UuZGF0YS5pZCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBVc2VyU2VydmVyLkxvZ291dCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJBUElfVE9LRU4iKTsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiVVNFUl9OQU1FIik7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oIlVTRVJfSUQiKTsKCiAgICAgICAgX3RoaXMyLiRyb3V0ZXIuZ28oMCk7CiAgICAgIH0pLmNhdGNoKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\www-server\\ntcust_lang_frontend\\src\\views\\pages\\Manage.vue"],"names":[],"mappings":";AA6DA,OAAO,UAAP,MAAuB,+BAAvB;AACA,OAAO,YAAP,MAAyB,iCAAzB;AACA,OAAO,UAAP,MAAuB,+BAAvB;AACA,OAAO,WAAP,MAAwB,gCAAxB;AACA,OAAO,UAAP,MAAuB,+BAAvB;AACA,OAAO,WAAP,MAAwB,gCAAxB;AACA,SAAS,UAAT,QAA2B,gCAA3B;AAEA,eAAe;AACX,EAAA,UAAU,EAAE;AACR,IAAA,UAAU,EAAV,UADQ;AAER,IAAA,YAAY,EAAZ,YAFQ;AAGR,IAAA,UAAU,EAAV,UAHQ;AAIR,IAAA,WAAW,EAAX,WAJQ;AAKR,IAAA,UAAU,EAAV,UALQ;AAMR,IAAA,WAAU,EAAV;AANQ,GADD;AASX,EAAA,IAAI,EAAE,KATK;AAUX,EAAA,IAVW,kBAUL;AACF,WAAO;AACH,MAAA,IAAI,EAAE;AACF,QAAA,KAAK,EAAE,EADL;AAEF,QAAA,QAAQ,EAAE;AAFR,OADH;AAKH,MAAA,QAAQ,EAAE;AACN,QAAA,MAAM,EAAE,KADF;AAEN,QAAA,QAAQ,EAAE,KAFJ;AAGN,QAAA,KAAK,EAAE,KAHD;AAIN,QAAA,IAAI,EAAE;AAJA,OALP;AAWH,MAAA,IAAI,EAAE;AACF,QAAA,EAAE,EAAE,CADF;AAEF,QAAA,IAAI,EAAE;AAFJ;AAXH,KAAP;AAgBH,GA3BU;AA4BX,EAAA,OA5BW,qBA4BF;AACL,QAAG,YAAY,CAAC,OAAb,CAAqB,WAArB,KAAqC,IAAxC,EAA8C;AAC1C,WAAK,QAAL,CAAc,MAAd,GAAuB,IAAvB;AACA,WAAK,IAAL,CAAU,IAAV,GAAiB,YAAY,CAAC,OAAb,CAAqB,WAArB,CAAjB;AACA,WAAK,IAAL,CAAU,EAAV,GAAe,YAAY,CAAC,OAAb,CAAqB,SAArB,CAAf;AACJ;AACH,GAlCU;AAmCX,EAAA,OAAO,EAAG;AACN,IAAA,KADM,mBACE;AAAA;;AACJ,MAAA,UAAU,CAAC,KAAX,CAAiB,KAAK,IAAtB,EAA4B,IAA5B,CACI,UAAC,QAAD,EAAc;AACV,QAAA,KAAI,CAAC,QAAL,CAAc,MAAd,GAAuB,QAAQ,CAAC,MAAhC;;AACA,YAAG,KAAI,CAAC,QAAL,CAAc,MAAjB,EAAwB;AACpB,UAAA,YAAY,CAAC,OAAb,CAAqB,WAArB,EAAkC,QAAQ,CAAC,SAA3C;AACA,UAAA,YAAY,CAAC,OAAb,CAAqB,WAArB,EAAkC,QAAQ,CAAC,IAAT,CAAc,IAAhD;AACA,UAAA,YAAY,CAAC,OAAb,CAAqB,SAArB,EAAgC,QAAQ,CAAC,IAAT,CAAc,EAA9C;AACJ;AACJ,OARJ;AAUH,KAZK;AAaN,IAAA,MAbM,oBAaG;AAAA;;AACL,MAAA,UAAU,CAAC,MAAX,GAAoB,IAApB,CAAyB,YAAM;AAC3B,QAAA,YAAY,CAAC,UAAb,CAAwB,WAAxB;AACA,QAAA,YAAY,CAAC,UAAb,CAAwB,WAAxB;AACA,QAAA,YAAY,CAAC,UAAb,CAAwB,SAAxB;;AACA,QAAA,MAAI,CAAC,OAAL,CAAa,EAAb,CAAgB,CAAhB;AACH,OALD,EAKG,KALH;AAQJ;AAtBM;AAnCC,CAAf","sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <div v-if=\"!response.status\">\r\n            <h2 class=\"text-center my-4\">管理者登入</h2>\r\n            <b-alert v-model=\"response.error\" variant=\"danger\" dismissible>\r\n                {{ response.feedback }}\r\n            </b-alert>\r\n            <b-row class=\"my-4\">\r\n                <b-col sm=\"3\">\r\n                    <label>電子郵件</label>\r\n                </b-col>\r\n                <b-col sm=\"9\">\r\n                    <b-form-input v-model=\"data.email\" type=\"email\" placeholder=\"Enter your Email\"></b-form-input>\r\n                </b-col>\r\n            </b-row>\r\n            <b-row class=\"my-4\">\r\n                <b-col sm=\"3\">\r\n                    <label>密碼</label>\r\n                </b-col>\r\n                <b-col sm=\"9\">\r\n                    <b-form-input v-model=\"data.password\" type=\"password\" placeholder=\"Enter your Password\"></b-form-input>\r\n                </b-col>\r\n            </b-row>\r\n            <div class=\"my-4 text-center\">\r\n                <b-button @click=\"login\">登入</b-button>\r\n            </div>\r\n        </div>\r\n        <!--  -->\r\n        <div v-if=\"response.status && !response.error\">\r\n            <h2>管理者頁面</h2>\r\n            <div class=\"text-end\">\r\n                歡迎回來! {{ user.name }} 使用者 <b-button @click=\"logout\">登出</b-button>\r\n            </div>\r\n            <b-tabs content-class=\"mt-3\" fill>\r\n                <b-tab id=\"news\" title=\"消息管理\" active>\r\n                    <Manage-News></Manage-News>\r\n                </b-tab>\r\n                <b-tab id=\"banner\" title=\"看板管理\">\r\n                    <Manage-Banner></Manage-Banner>\r\n                </b-tab>\r\n                <b-tab id=\"honor\" title=\"榮譽榜管理\">\r\n                    <ManageHonor></ManageHonor>\r\n                </b-tab>\r\n                <b-tab id=\"album\" title=\"相簿管理\">\r\n                    <Manage-Album></Manage-Album>\r\n                </b-tab>\r\n                <b-tab id=\"link\" title=\"連結管理\">\r\n                    <Manage-Link></Manage-Link>\r\n                </b-tab>\r\n                <b-tab id=\"account\" title=\"成員列表\">\r\n                    <Manage-User></Manage-User>\r\n                </b-tab>\r\n            </b-tabs>\r\n        </div>\r\n        <div class=\"text-center\">\r\n            <button type=\"button\" class=\"btn btn-secondary my-3\" @click=\"historyPrev\">回上頁</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport ManageNews from '../components/Manage-News.vue';\r\nimport ManageBanner from '../components/Manage-Banner.vue';\r\nimport ManageLink from '../components/Manage-Link.vue';\r\nimport ManageHonor from '../components/Manage-Honor.vue';\r\nimport ManageUser from '../components/Manage-User.vue';\r\nimport ManageAlbum from '../components/Manage-Album.vue';\r\nimport { UserServer } from '../../providers/http-server.js';\r\n\r\nexport default {\r\n    components: { \r\n        ManageNews,\r\n        ManageBanner,\r\n        ManageLink,\r\n        ManageHonor,\r\n        ManageUser,\r\n        ManageAlbum\r\n    },\r\n    name: 'App',\r\n    data(){\r\n        return {\r\n            data: {\r\n                email: '',\r\n                password: ''\r\n            },\r\n            response: {\r\n                status: false,\r\n                feedback: false,\r\n                error: false,\r\n                code: 200\r\n            },\r\n            user: {\r\n                id: 0,\r\n                name: ''\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n        if(localStorage.getItem('API_TOKEN') != null) {\r\n            this.response.status = true;\r\n            this.user.name = localStorage.getItem('USER_NAME');\r\n            this.user.id = localStorage.getItem('USER_ID');\r\n        }\r\n    },\r\n    methods:  {\r\n        login() {\r\n            UserServer.Login(this.data).then(\r\n                (response) => {\r\n                    this.response.status = response.status;\r\n                    if(this.response.status){\r\n                        localStorage.setItem('API_TOKEN', response.parameter);\r\n                        localStorage.setItem('USER_NAME', response.data.name);\r\n                        localStorage.setItem('USER_ID', response.data.id);\r\n                    }\r\n                }\r\n            );\r\n        },\r\n        logout() {\r\n            UserServer.Logout().then(() => {\r\n                localStorage.removeItem(\"API_TOKEN\");\r\n                localStorage.removeItem(\"USER_NAME\");\r\n                localStorage.removeItem(\"USER_ID\");\r\n                this.$router.go(0);\r\n            }).catch(\r\n                // (error) => console.log(error)\r\n            );\r\n        }\r\n    }\r\n}\r\n</script>\r\n"],"sourceRoot":""}]}