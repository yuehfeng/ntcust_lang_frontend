{"remainingRequest":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\News.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\News.vue","mtime":1647408841829},{"path":"C:\\www-server\\ntcust_lang_frontend\\babel.config.js","mtime":1647072923606},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1645007186797},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645007183919},{"path":"C:\\www-server\\ntcust_lang_frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1645007187285}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwppbXBvcnQgeyBOZXdzU2VydmVyIH0gZnJvbSAiLi4vLi4vcHJvdmlkZXJzL2h0dHAtc2VydmVyLmpzIjsKaW1wb3J0IExvYWRpbmcgZnJvbSAndnVlLWxvYWRpbmctb3ZlcmxheSc7CmltcG9ydCAndnVlLWxvYWRpbmctb3ZlcmxheS9kaXN0L3Z1ZS1sb2FkaW5nLmNzcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTmV3cycsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5ld3M6IFtdLAogICAgICBwYWdlOiB7CiAgICAgICAgY3VycmVudDogMSwKICAgICAgICBhbGw6IDEKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMubW9tZW50ID0gbW9tZW50OwogICAgTmV3c1NlcnZlci5yZWFkKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMubmV3cyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0OwogICAgICBfdGhpcy5wYWdlLmN1cnJlbnQgPSByZXNwb25zZS5kYXRhLnBhZ2VzLmN1cnJlbnQ7CiAgICAgIF90aGlzLnBhZ2UuYWxsID0gcmVzcG9uc2UuZGF0YS5wYWdlcy5hbGw7CiAgICB9KTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICByb3dzOiBmdW5jdGlvbiByb3dzKCkgewogICAgICByZXR1cm4gdGhpcy5wYWdlLmFsbDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHByZXZQYWdlOiBmdW5jdGlvbiBwcmV2UGFnZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnBhZ2UuY3VycmVudCAtPSAxOwogICAgICBOZXdzU2VydmVyLnJlYWQoewogICAgICAgIHBhZ2U6IHRoaXMucGFnZS5jdXJyZW50CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLm5ld3MgPSByZXNwb25zZS5kYXRhLnJlc3VsdDsKICAgICAgICBfdGhpczIuZWRpdGluZy5kYXRhID0gX3RoaXMyLm5ld3NbMF07CiAgICAgICAgX3RoaXMyLmVkaXRpbmcubm90aWZpY2F0aW9uID0gX3RoaXMyLm5ld3NbMF0ubm90aWZpY2F0aW9uOwogICAgICAgIF90aGlzMi5wYWdlLmN1cnJlbnQgPSByZXNwb25zZS5kYXRhLnBhZ2VzLmN1cnJlbnQ7CiAgICAgICAgX3RoaXMyLnBhZ2UuYWxsID0gcmVzcG9uc2UuZGF0YS5wYWdlcy5hbGw7CiAgICAgIH0pOwogICAgfSwKICAgIG5leHRQYWdlOiBmdW5jdGlvbiBuZXh0UGFnZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnBhZ2UuY3VycmVudCArPSAxOwogICAgICBOZXdzU2VydmVyLnJlYWQoewogICAgICAgIHBhZ2U6IHRoaXMucGFnZS5jdXJyZW50CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLm5ld3MgPSByZXNwb25zZS5kYXRhLnJlc3VsdDsKICAgICAgICBfdGhpczMuZWRpdGluZy5kYXRhID0gX3RoaXMzLm5ld3NbMF07CiAgICAgICAgX3RoaXMzLmVkaXRpbmcubm90aWZpY2F0aW9uID0gX3RoaXMzLm5ld3NbMF0ubm90aWZpY2F0aW9uOwogICAgICAgIF90aGlzMy5wYWdlLmN1cnJlbnQgPSByZXNwb25zZS5kYXRhLnBhZ2VzLmN1cnJlbnQ7CiAgICAgICAgX3RoaXMzLnBhZ2UuYWxsID0gcmVzcG9uc2UuZGF0YS5wYWdlcy5hbGw7CiAgICAgIH0pOwogICAgfSwKICAgIGxvY2F0aW9uUGFnZTogZnVuY3Rpb24gbG9jYXRpb25QYWdlKG51bSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuY3VycmVudCA9IG51bTsKICAgICAgTmV3c1NlcnZlci5yZWFkKHsKICAgICAgICBwYWdlOiBudW0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczQubmV3cyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0OwogICAgICAgIF90aGlzNC5lZGl0aW5nLmRhdGEgPSBfdGhpczQubmV3c1swXTsKICAgICAgICBfdGhpczQuZWRpdGluZy5ub3RpZmljYXRpb24gPSBfdGhpczQubmV3c1swXS5ub3RpZmljYXRpb247CiAgICAgICAgX3RoaXM0LnBhZ2UuY3VycmVudCA9IHJlc3BvbnNlLmRhdGEucGFnZXMuY3VycmVudDsKICAgICAgICBfdGhpczQucGFnZS5hbGwgPSByZXNwb25zZS5kYXRhLnBhZ2VzLmFsbDsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\www-server\\ntcust_lang_frontend\\src\\views\\components\\News.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <loading v-model:active=\"query.isLoading\"\n        :can-cancel=\"true\"\n        :on-cancel=\"onCancel\"\n        :is-full-page=\"query.fullPage\"/>\n    <div>\n        <h2>\n            <router-link to=\"/\">最新消息</router-link>\n        </h2>\n        <table class=\"table table-hover\">\n            <thead>\n                <tr>\n                    <th scope=\"col\" colspan=\"2\">標題</th>\n                    <th scope=\"col\" class=\"text-end\">發布日期</th>\n                    <th scope=\"col\" class=\"text-end\">閱覽次數</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"(item, index) in news\" :key=\"index\">\n                    <th scope=\"row\">\n                        <span v-if=\"item.notification.id == 1\" class=\"badge bg-primary\">{{ item.notification.type }}</span>\n                        <span v-if=\"item.notification.id == 2\" class=\"badge bg-secondary\">{{ item.notification.type }}</span>\n                        <span v-if=\"item.notification.id == 3\" class=\"badge bg-warning text-dark\">{{ item.notification.type }}</span>\n                        <span v-if=\"item.notification.id == 4\" class=\"badge bg-info text-dark\">{{ item.notification.type }}</span>\n                        <span v-if=\"item.notification.id == 5\" class=\"badge bg-danger\">{{ item.notification.type }}</span>\n                    </th>\n                    <td>\n                        <router-link :to=\"'/news/'+item.id\">\n                            <span v-if=\"item.top\">【置頂】</span>\n                            {{ item.title }}\n                        </router-link>\n                    </td>\n                    <td class=\"text-end\">{{ moment(item.created_at).format(\"YYYY-MM-DD HH:MM\") }}</td>\n                    <td class=\"text-end\">{{ item.views }}</td>\n                </tr>\n            </tbody>\n        </table>\n        <nav aria-label=\"Page navigation example\">\n            <ul class=\"pagination justify-content-end\">\n                <li class=\"page-item disabled\" v-if=\"page.current == 1\">\n                    <a @click=\"prevPage\" class=\"page-link\">Previous</a>\n                </li>\n                <li class=\"page-item\" v-if=\"page.current != 1\">\n                    <a @click=\"prevPage\" class=\"page-link\">Previous</a>\n                </li>\n                <li class=\"page-item\" v-for=\"index in rows\" :key=\"index\">\n                    <a v-if=\"page.current == index\" class=\"page-link bg-primary text-light fw-bolder\" @click=\"locationPage(index)\">{{ index }}</a>\n                    <a v-if=\"page.current != index\" class=\"page-link\" @click=\"locationPage(index)\">{{ index }}</a>\n                </li>\n                <li class=\"page-item disabled\" v-if=\"page.current == page.all\">\n                    <a @click=\"nextPage\" class=\"page-link\">Next</a>\n                </li>\n                <li class=\"page-item\" v-if=\"page.current != page.all\">\n                    <a @click=\"nextPage\" class=\"page-link\">Next</a>\n                </li>\n            </ul>\n        </nav>\n    </div>\n</template>\n\n<script>\nimport moment from 'moment';\nimport { NewsServer } from \"../../providers/http-server.js\";\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css';\n\nexport default {\n    name: 'News',\n    data(){\n        return {\n            news: [],\n            page: {\n                current: 1,\n                all: 1\n            }\n        }\n    },\n    created(){\n        this.moment = moment;\n        NewsServer.read().then(\n            (response) => {\n                this.news = response.data.result;\n                this.page.current = response.data.pages.current;\n                this.page.all = response.data.pages.all;\n            }\n        );\n    },\n    computed: {\n        rows(){\n            return this.page.all\n        }\n    },\n    methods:\n    {\n        prevPage() {\n            this.page.current -= 1;\n            NewsServer.read({\n                page: this.page.current\n            }).then(\n                (response) => {\n                    this.news = response.data.result;\n                    this.editing.data = this.news[0];\n                    this.editing.notification = this.news[0].notification;\n                    this.page.current = response.data.pages.current;\n                    this.page.all = response.data.pages.all;\n                }\n            );\n        },\n        nextPage()\n        {\n            this.page.current += 1;\n            NewsServer.read({\n                page: this.page.current\n            }).then(\n                (response) => {\n                    this.news = response.data.result;\n                    this.editing.data = this.news[0];\n                    this.editing.notification = this.news[0].notification;\n                    this.page.current = response.data.pages.current;\n                    this.page.all = response.data.pages.all;\n                }\n            );\n        },\n        locationPage(num)\n        {\n            this.current = num;\n            NewsServer.read({\n                page: num\n            }).then(\n                (response) => {\n                    this.news = response.data.result;\n                    this.editing.data = this.news[0];\n                    this.editing.notification = this.news[0].notification;\n                    this.page.current = response.data.pages.current;\n                    this.page.all = response.data.pages.all;\n                }\n            );\n        }\n    }\n}\n</script>\n"],"sourceRoot":""}]}